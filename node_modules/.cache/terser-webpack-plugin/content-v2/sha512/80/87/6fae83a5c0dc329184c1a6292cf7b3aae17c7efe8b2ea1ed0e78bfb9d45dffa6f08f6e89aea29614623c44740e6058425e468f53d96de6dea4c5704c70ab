{"code":"(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){\"use strict\";n.r(t);var r,c=n(1),o=n.n(c),a=n(4),i=n.n(a),l=(n(10),n(11),n(0)),s=function(){return console.log(\"Title rendering\"),Object(l.jsx)(\"h2\",{children:\"SNAKE\"})},u=n(5),d=n(3),b=(n(13),o.a.memo((function(e){return console.log(\"Box rendering props: \",e.className),Object(l.jsx)(\"div\",{className:e.className})}))),f=o.a.memo((function(e){return console.log(\"Score rendering: \",e.currentScore),Object(l.jsxs)(\"h2\",{children:[\"Score: \",e.currentScore]})})),j=(n(14),o.a.memo((function(e){return console.log(\"Button rendering\"),Object(l.jsx)(\"button\",{className:\"newGame\",onClick:e.onClick,children:e.label})}))),h=(n(15),document.querySelector(\":root\")),w=getComputedStyle(h),O=parseInt(w.getPropertyValue(\"--gridSize\")),g={tail:{row:5,col:5},head:{row:8,col:5}},m=Array.from(Array(O),(function(){return new Array(O).fill(\"b\")}));m[5][5]=m[6][5]=m[7][5]=m[8][5]=\"s\",function(e){e[e.Up=1]=\"Up\",e[e.Down=2]=\"Down\",e[e.Right=3]=\"Right\",e[e.Left=4]=\"Left\"}(r||(r={}));var p=r.Down,k=r.Down,v=function(){var e=Object(c.useState)(g),t=Object(d.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(!1),i=Object(d.a)(a,2),s=i[0],h=i[1];!function(e,t){var n=Object(c.useRef)(e);Object(c.useLayoutEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=Object(u.a)({},n);console.log(\"head = \",e.head,\"tail = \",e.tail),o(function(e){var t=n.head.col,c=n.head.row;switch(p){case r.Up:c=n.head.row-1<0?O-1:n.head.row-1;break;case r.Down:c=n.head.row+1>=O?0:n.head.row+1;break;case r.Right:t=n.head.col+1>=O?0:n.head.col+1;break;case r.Left:t=n.head.col-1<0?O-1:n.head.col-1;break;default:throw new Error(\"Invalid head direction!\")}switch(e.head.row=c,e.head.col=t,m[c][t]=\"s\",m[n.tail.row][n.tail.col]=\"b\",t=n.tail.col,c=n.tail.row,k){case r.Up:c=n.tail.row-1<0?O-1:n.tail.row-1;break;case r.Down:c=n.tail.row+1>=O?0:n.tail.row+1;break;case r.Right:t=n.tail.col+1>=O?0:n.tail.col+1;break;case r.Left:t=n.tail.col-1<0?O-1:n.tail.col-1;break;default:throw new Error(\"Invalid tail direction!\")}return e.tail.row=c,e.tail.col=t,e}(e))}),s?100:null);var w=Object(c.useCallback)((function(){h((function(e){return!e}))}),[]);return console.log(\"grid rendering\"),Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"div\",{className:\"gridContainer\",children:m.flat().map((function(e,t){return Object(l.jsx)(b,{className:\"b\"===e?\"box\":\"snake\",id:t},t)}))}),Object(l.jsxs)(\"div\",{className:\"appUtils\",children:[Object(l.jsx)(f,{currentScore:0}),Object(l.jsx)(j,{onClick:w,label:s?\"Stop Game\":\"New Game\"})]})]})},x=function(){return console.log(\"App rendering\"),Object(l.jsxs)(\"div\",{className:\"appContainer\",children:[Object(l.jsx)(s,{}),Object(l.jsx)(v,{})]})};i.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById(\"root\"))}],[[16,1,2]]]);","name":"static/js/main.e0b7ff5d.chunk.js","map":{"version":3,"sources":["static/js/main.e0b7ff5d.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","Direction","react","react_default","n","react_dom","react_dom_default","jsx_runtime","title_Title","console","log","Object","children","objectSpread2","slicedToArray","Box","a","memo","props","className","Score","currentScore","Button","onClick","label","root","document","querySelector","rootStyle","getComputedStyle","gridSize","parseInt","getPropertyValue","snakeEndsInit","tail","row","col","head","grid_grid","Array","from","fill","currentHeadDir","Down","currentTailDir","grid_Grid","_useState","_useState2","snakeEnds","setSnakeEnds","_useState3","_useState4","playing","setPlaying","callback","delay","savedCallback","current","id","setInterval","clearInterval","useInterval_useInterval","ends","newCol","newRow","Up","Right","Left","Error","getNewEnds","handleOnNewGame","flat","map","box","index","App_App","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpsnake\"] = this[\"webpackJsonpsnake\"] || []).push([[0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 12 */,\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./src/style/App.css\nvar style_App = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/title.tsx\nvar title_Title=function Title(){console.log(\"Title rendering\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"SNAKE\"});};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./src/style/box.css\nvar style_box = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/box.tsx\nvar Box=/*#__PURE__*/react_default.a.memo(function(props){console.log(\"Box rendering props: \",props.className);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:props.className});});\n// CONCATENATED MODULE: ./src/score.tsx\nvar Score=/*#__PURE__*/react_default.a.memo(function(props){console.log(\"Score rendering: \",props.currentScore);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Score: \",props.currentScore]});});\n// EXTERNAL MODULE: ./src/style/button.css\nvar style_button = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/button.tsx\nvar Button=/*#__PURE__*/react_default.a.memo(function(props){console.log(\"Button rendering\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:'newGame',onClick:props.onClick,children:props.label});});\n// CONCATENATED MODULE: ./src/useInterval.tsx\nvar useInterval_useInterval=function useInterval(callback,delay){var savedCallback=Object(react[\"useRef\"])(callback);// Remember the latest callback if it changes.\nObject(react[\"useLayoutEffect\"])(function(){savedCallback.current=callback;},[callback]);// Set up the interval.\nObject(react[\"useEffect\"])(function(){// Don't schedule if no delay is specified.\nif(!delay){return;}var id=setInterval(function(){return savedCallback.current();},delay);return function(){return clearInterval(id);};},[delay]);};\n// EXTERNAL MODULE: ./src/style/grid.css\nvar grid = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/grid.tsx\nvar root=document.querySelector(':root');var rootStyle=getComputedStyle(root);var gridSize=parseInt(rootStyle.getPropertyValue('--gridSize'));var snakeEndsInit={tail:{row:5,col:5},head:{row:8,col:5}};var grid_grid=Array.from(Array(gridSize),function(){return new Array(gridSize).fill('b');});grid_grid[5][5]=grid_grid[6][5]=grid_grid[7][5]=grid_grid[8][5]='s';var Direction;(function(Direction){Direction[Direction[\"Up\"]=1]=\"Up\";Direction[Direction[\"Down\"]=2]=\"Down\";Direction[Direction[\"Right\"]=3]=\"Right\";Direction[Direction[\"Left\"]=4]=\"Left\";})(Direction||(Direction={}));var currentHeadDir=Direction.Down;var currentTailDir=Direction.Down;// for (let i = 0; i<gridSize; i++)\n//     for(let j = 0; j<gridSize; j++)\n//         grid[i][j] = 'b';\nvar grid_Grid=function Grid(){var _useState=Object(react[\"useState\"])(snakeEndsInit),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),snakeEnds=_useState2[0],setSnakeEnds=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),playing=_useState4[0],setPlaying=_useState4[1];var getNewEnds=function getNewEnds(ends){var newCol=snakeEnds.head.col;var newRow=snakeEnds.head.row;switch(currentHeadDir){case Direction.Up:{newRow=snakeEnds.head.row-1<0?gridSize-1:snakeEnds.head.row-1;break;}case Direction.Down:{newRow=snakeEnds.head.row+1>=gridSize?0:snakeEnds.head.row+1;break;}case Direction.Right:{newCol=snakeEnds.head.col+1>=gridSize?0:snakeEnds.head.col+1;break;}case Direction.Left:{newCol=snakeEnds.head.col-1<0?gridSize-1:snakeEnds.head.col-1;break;}default:throw new Error('Invalid head direction!');}ends.head.row=newRow;ends.head.col=newCol;grid_grid[newRow][newCol]='s';// assign new head\ngrid_grid[snakeEnds.tail.row][snakeEnds.tail.col]='b';//clear current tail\nnewCol=snakeEnds.tail.col;newRow=snakeEnds.tail.row;switch(currentTailDir){case Direction.Up:{newRow=snakeEnds.tail.row-1<0?gridSize-1:snakeEnds.tail.row-1;break;}case Direction.Down:{newRow=snakeEnds.tail.row+1>=gridSize?0:snakeEnds.tail.row+1;break;}case Direction.Right:{newCol=snakeEnds.tail.col+1>=gridSize?0:snakeEnds.tail.col+1;break;}case Direction.Left:{newCol=snakeEnds.tail.col-1<0?gridSize-1:snakeEnds.tail.col-1;break;}default:throw new Error('Invalid tail direction!');}ends.tail.row=newRow;ends.tail.col=newCol;return ends;};var onTick=function onTick(){var ends=Object(objectSpread2[\"a\" /* default */])({},snakeEnds);console.log('head = ',ends.head,'tail = ',ends.tail);setSnakeEnds(getNewEnds(ends));};useInterval_useInterval(onTick,// Delay in milliseconds or null to stop it\nplaying?100:null);var handleOnNewGame=Object(react[\"useCallback\"])(function(){setPlaying(function(playing){return!playing;});},[]);console.log(\"grid rendering\");return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'gridContainer',children:grid_grid.flat().map(function(box,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box,{className:box==='b'?'box':'snake',id:index},index);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:'appUtils',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Score,{currentScore:0}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:handleOnNewGame,label:playing?'Stop Game':'New Game'})]})]});};\n// CONCATENATED MODULE: ./src/App.tsx\nvar App_App=function App(){console.log(\"App rendering\");return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:'appContainer',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(title_Title,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(grid_Grid,{})]});};\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{})}),document.getElementById('root'));\n\n/***/ })\n],[[16,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/postcss-loader/src/index.js??postcss!/Users/sarangkapadia/Documents/HelloWeb/snake/src/index.css","/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/postcss-loader/src/index.js??postcss!/Users/sarangkapadia/Documents/HelloWeb/snake/src/style/App.css","/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/postcss-loader/src/index.js??postcss!/Users/sarangkapadia/Documents/HelloWeb/snake/src/style/box.css","/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/postcss-loader/src/index.js??postcss!/Users/sarangkapadia/Documents/HelloWeb/snake/src/style/button.css","/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/sarangkapadia/Documents/HelloWeb/snake/node_modules/postcss-loader/src/index.js??postcss!/Users/sarangkapadia/Documents/HelloWeb/snake/src/style/grid.css","/Users/sarangkapadia/Documents/HelloWeb/snake/src/title.tsx","/Users/sarangkapadia/Documents/HelloWeb/snake/src/box.tsx","/Users/sarangkapadia/Documents/HelloWeb/snake/src/score.tsx","/Users/sarangkapadia/Documents/HelloWeb/snake/src/button.tsx","/Users/sarangkapadia/Documents/HelloWeb/snake/src/useInterval.tsx","/Users/sarangkapadia/Documents/HelloWeb/snake/src/grid.tsx","/Users/sarangkapadia/Documents/HelloWeb/snake/src/App.tsx","/Users/sarangkapadia/Documents/HelloWeb/snake/src/index.tsx"],"names":["Title","console","log","Box","React","memo","props","className","Score","currentScore","Button","onClick","label","useInterval","callback","delay","savedCallback","useRef","useLayoutEffect","current","useEffect","id","setInterval","clearInterval","root","document","querySelector","rootStyle","getComputedStyle","gridSize","parseInt","getPropertyValue","snakeEndsInit","tail","row","col","head","grid","Array","from","fill","Direction","currentHeadDir","Down","currentTailDir","Grid","useState","snakeEnds","setSnakeEnds","playing","setPlaying","getNewEnds","ends","newCol","newRow","Up","Right","Left","Error","onTick","handleOnNewGame","useCallback","flat","map","box","index","App","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\n\nexport const Title:React.FunctionComponent = () => {\n    console.log(\"Title rendering\");\n    return <h2>SNAKE</h2>;\n}","import React from 'react';\nimport './style/box.css';\n\ninterface IBoxProps{\n    id?: number,\n    className: string,\n}\n\nexport const Box:React.FunctionComponent<IBoxProps> = React.memo((props) => {\n    console.log(\"Box rendering props: \", props.className);\n    return <div className={props.className} ></div>;\n});","import React from 'react';\n\ninterface IScoreProps{\n    currentScore:number;\n}\nexport const Score: React.FunctionComponent<IScoreProps> = React.memo((props) => {\n    console.log(\"Score rendering: \" ,props.currentScore);\n    return <h2>Score: {props.currentScore}</h2>\n});","import React from 'react';\nimport './style/button.css';\n\ninterface IButtonProps{\n    onClick: () => void;\n    label: string;\n}\n\nexport const Button:React.FunctionComponent<IButtonProps> = React.memo((props) => {\n    console.log(\"Button rendering\");\n    return <button className={'newGame'} onClick={props.onClick} >{props.label}</button>;\n});","import { useEffect, useLayoutEffect, useRef } from \"react\"\n\nexport const useInterval = (callback: () => void, delay: number | null) => {\n    const savedCallback = useRef(callback)\n  \n    // Remember the latest callback if it changes.\n    useLayoutEffect(() => {\n      savedCallback.current = callback\n    }, [callback])\n  \n    // Set up the interval.\n    useEffect(() => {\n      // Don't schedule if no delay is specified.\n      if (!delay) {\n        return\n      }\n  \n      const id = setInterval(() => savedCallback.current(), delay)\n  \n      return () => clearInterval(id)\n    }, [delay])\n  }","import React, { useCallback, useState } from 'react';\nimport  { Box } from './box';\nimport { Score } from './score';\nimport { Button } from './button';\nimport { useInterval } from './useInterval';\nimport './style/grid.css'\n\nconst root = document.querySelector(':root')!;\nconst rootStyle = getComputedStyle(root);\nlet gridSize = parseInt(rootStyle.getPropertyValue('--gridSize'));\nconst snakeEndsInit = {tail:{row:5, col:5}, head:{row:8, col:5}};\n\nlet grid:string[][] = Array.from(Array(gridSize), () => new Array(gridSize).fill('b'));\ngrid[5][5] = grid[6][5] = grid[7][5] = grid[8][5] = 's';\nenum Direction{\n    Up = 1,\n    Down,\n    Right,\n    Left,\n}\n\nlet currentHeadDir = Direction.Down; \nlet currentTailDir = Direction.Down; \n\n// for (let i = 0; i<gridSize; i++)\n//     for(let j = 0; j<gridSize; j++)\n//         grid[i][j] = 'b';\n\n\n \nexport const Grid: React.FunctionComponent = () => {\n    const [snakeEnds, setSnakeEnds] = useState(snakeEndsInit);\n    const [playing, setPlaying] = useState(false);\n\n    const getNewEnds = (ends: typeof snakeEnds) => {\n        let newCol = snakeEnds.head.col;\n        let newRow = snakeEnds.head.row;\n\n        switch(currentHeadDir){\n            case Direction.Up: {\n                newRow = (snakeEnds.head.row - 1) < 0 ? gridSize - 1 : snakeEnds.head.row - 1;\n                break;\n            }\n            case Direction.Down:{\n                newRow = (snakeEnds.head.row + 1) >= gridSize ? 0 : snakeEnds.head.row + 1;\n                break;\n            }\n            case Direction.Right:{\n                newCol = (snakeEnds.head.col + 1) >= gridSize ? 0 : snakeEnds.head.col + 1;\n                break;\n            }\n            case Direction.Left:{\n                newCol = (snakeEnds.head.col - 1) < 0 ? gridSize - 1 : snakeEnds.head.col - 1;\n                break;\n            }\n            default: throw(new Error('Invalid head direction!'));\n        }\n        ends.head.row = newRow;\n        ends.head.col = newCol;\n\n        grid[newRow][newCol] = 's'; // assign new head\n        grid[snakeEnds.tail.row][snakeEnds.tail.col] = 'b'; //clear current tail\n\n        newCol = snakeEnds.tail.col;\n        newRow = snakeEnds.tail.row;\n\n        switch(currentTailDir){\n            case Direction.Up: {\n                newRow = (snakeEnds.tail.row - 1) < 0 ? gridSize - 1 : snakeEnds.tail.row - 1;\n                break;\n            }\n            case Direction.Down:{\n                newRow = (snakeEnds.tail.row + 1) >= gridSize ? 0 : snakeEnds.tail.row + 1;\n                break;\n            }\n            case Direction.Right:{\n                newCol = (snakeEnds.tail.col + 1) >= gridSize ? 0 : snakeEnds.tail.col + 1;\n                break;\n            }\n            case Direction.Left:{\n                newCol = (snakeEnds.tail.col - 1) < 0 ? gridSize - 1 : snakeEnds.tail.col - 1;\n                break;\n            }\n            default: throw(new Error('Invalid tail direction!'));\n        }\n\n        ends.tail.row = newRow;\n        ends.tail.col = newCol;\n\n        return ends;\n    }\n\n    const onTick = () => {\n        let ends = {...snakeEnds};\n        console.log('head = ', ends.head, 'tail = ', ends.tail);\n        setSnakeEnds(getNewEnds(ends));\n    }\n\n    useInterval(\n        onTick,\n        // Delay in milliseconds or null to stop it\n        playing ? 100 : null\n      );\n\n    const handleOnNewGame = useCallback(() => {\n        setPlaying(playing => !playing);\n    },[]);\n\n    console.log(\"grid rendering\");\n\n    return (\n        <div >\n            <div className={'gridContainer'}>\n                {grid.flat().map((box, index) => <Box className={box==='b'?'box':'snake'} id={index} key={index} />)}\n            </div>\n            <div className={'appUtils'}>\n                <Score currentScore={0}></Score>\n                <Button onClick={handleOnNewGame} label={playing?'Stop Game':'New Game'}/>\n            </div>  \n    </div>);\n}","import React from 'react';\nimport './style/App.css';\n\nimport { Title } from './title';\nimport { Grid } from './grid';\n\nexport const App: React.FunctionComponent = () => {\n  console.log(\"App rendering\");\n  \n  return (\n    <div className={'appContainer'} >\n      <Title />\n      <Grid />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}