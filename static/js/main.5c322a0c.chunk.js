(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{61:function(e,t,r){},62:function(e,t,r){},63:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){},69:function(e,t,r){},70:function(e,t,r){},71:function(e,t,r){},72:function(e,t,r){},73:function(e,t,r){},78:function(e,t,r){},79:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){"use strict";r.r(t);var i,n,a=r(0),o=r.n(a),c=r(45),s=r.n(c),l=(r(61),r(5)),d=(r(62),r(23)),u=(r(63),r(1)),h=o.a.memo((function(e){var t=e.letter;return Object(u.jsx)("div",{className:"byte",children:t})})),f=r(24),g=r(25),b=["about","above","actor","acute","admit","adopt","adult","after","again","agent","ahead","album","alive","allow","apart","apple","arena","array","audio","audit","avoid","award","aware","bases","basic","beach","begun","bench","birth","black","blind","block","booth","bound","brand","breed","bring","brown","build","built","buyer","cable","carry","catch","chair","chart","check","child","civil","claim","class","clear","click","clock","coach","count","court","cover","craft","cross","crowd","crown","curve","daily","dated","delay","depth","doubt","draft","drawn","dress","drill","drink","eight","elite","empty","enemy","enjoy","entry","error","event","exact","extra","faith","fault","fight","final","fixed","flash","fleet","floor","fluid","focus","force","forum","frame","frank","fraud","fresh","front","fruit","fully","funny","given","going","grace","grand","grant","grass","gross","group","guard","guess","guide","happy","heavy","hence","house","human","image","input","issue","joint","judge","known","label","laugh","leave","legal","level","light","limit","local","logic","loose","lucky","lunch","lying","magic","major","maker","match","metal","might","minor","mixed","model","money","month","motor","mouth","movie","music","newly","novel","occur","often","paper","party","peace","phone","photo","piece","pilot","pitch","place","plain","plant","pound","power","press","price","prime","print","prior","prize","proof","proud","queen","quick","rapid","ratio","reach","river","robin","rough","round","royal","rural","shell","shift","shirt","shown","sight","since","sized","sorry","spend","spent","stand","stock","stuff","style","taken","taxes","teeth","thank","theft","their","theme","thick","think","third","threw","tight","title","total","track","train","trend","truck","truly","truth","twice","undue","union","unity","upper","valid","value","video","virus","visit","vital","voice","watch","water","wheel","which","while","whole","woman","women","world","worry","would","wound","write","young","youth"],v=function(){function e(t,r){Object(g.a)(this,e),this.byteList=[],this.index=0,console.log("this should be called only once"),this.byteList=this.shuffle(t),this.index=r||0}return Object(f.a)(e,[{key:"shuffle",value:function(e){for(var t,r=e.length;0!==r;){t=Math.floor(Math.random()*r),r--;var i=[e[t],e[r]];e[r]=i[0],e[t]=i[1]}return e}},{key:"getNextWord",value:function(){var e=this.byteList[this.index];return this.index=(this.index+1)%this.byteList.length,e}}]),e}(),j=function(){function e(t){Object(g.a)(this,e),this.snakeEnds=void 0,this.snakeEnds=t||{tail:{row:5,col:5},head:{row:5,col:10}}}return Object(f.a)(e,[{key:"getSnakeEnds",value:function(){return this.snakeEnds}},{key:"setSnakeEnds",value:function(e){this.snakeEnds=e}},{key:"snakeAlive",value:function(){return!0}},{key:"snakeLength",value:function(){return 4}}]),e}();!function(e){e[e.None=0]="None",e[e.Up=1]="Up",e[e.Down=2]="Down",e[e.Right=3]="Right",e[e.Left=4]="Left"}(i||(i={})),function(e){e[e.Canvas=0]="Canvas",e[e.Body=1]="Body",e[e.Head=2]="Head",e[e.Tail=3]="Tail",e[e.Byte=4]="Byte",e[e.FirstHead=5]="FirstHead",e[e.FirstTail=6]="FirstTail"}(n||(n={}));var p=Object(f.a)((function e(){Object(g.a)(this,e),this.role=n.Canvas,this.direction=i.None,this.pivot=i.None,this.letter=""})),m=function(){function e(){Object(g.a)(this,e),this.grid=void 0,this.gridSize=void 0,this.snake=void 0,this.bytes=void 0,this.currentBytes="snake",this.letterIndex=0;var t=document.querySelector(":root"),r=getComputedStyle(t);this.gridSize=parseInt(r.getPropertyValue("--gridSize")),this.bytes=new v(b),this.grid=new Array(this.gridSize);for(var i=0;i<this.gridSize;i++)this.grid[i]=new Array(this.gridSize);for(var n=0;n<this.gridSize;n++)for(var a=0;a<this.gridSize;a++)this.grid[n][a]=new p;this.snake=new j}return Object(f.a)(e,[{key:"getGrid",value:function(){return this.grid}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getSnake",value:function(){return this.snake}},{key:"getCurrentHeadDirection",value:function(){var e=this.snake.getSnakeEnds().head;return this.grid[e.row][e.col].direction}},{key:"getCurrentTailDirection",value:function(){var e=this.snake.getSnakeEnds().tail;return this.grid[e.row][e.col].direction}},{key:"setCurrentHeadDirection",value:function(e){var t=this.snake.getSnakeEnds().head;this.grid[t.row][t.col].direction=e}},{key:"getPivotDirectionOnCurrentTail",value:function(){var e=this.snake.getSnakeEnds().tail;return this.grid[e.row][e.col].pivot}},{key:"setCurrentTailDirection",value:function(e){var t=this.snake.getSnakeEnds().tail;this.grid[t.row][t.col].direction=e}},{key:"setPivotOnCurrentHeadDirection",value:function(e){var t=this.snake.getSnakeEnds().head;this.grid[t.row][t.col].pivot=e}},{key:"initGridData",value:function(){var e=this.snake.getSnakeEnds(),t=e.tail,r=e.head;if(this.grid[t.row][t.col].direction=i.None,this.grid[r.row][r.col].direction=i.None,this.grid[t.row][t.col].role=n.FirstTail,this.grid[r.row][r.col].role=n.FirstHead,t.row===r.row)for(var a=t.col+1;a<r.col;a++)this.grid[t.row][a].role=n.Body,this.grid[r.row][a].role=n.Body;else{if(t.col!==r.col)throw new Error("Snake init invalid");for(var o=t.row+1;o<r.row;o++)this.grid[o][t.col].role=n.Body,this.grid[o][t.col].role=n.Body}this.setRandomBytePositions()}},{key:"setRandomBytePositions",value:function(){this.currentBytes=this.bytes.getNextWord();for(var e=0;e<this.currentBytes.length;e++)for(;;){var t=Math.floor(Math.random()*this.gridSize),r=Math.floor(Math.random()*this.gridSize);if(this.grid[t][r].role===n.Canvas){this.grid[t][r].role=n.Byte,this.grid[t][r].letter=this.currentBytes.charAt(e).toUpperCase();break}console.log("Invalid random position")}}},{key:"getLetterIndex",value:function(){return this.letterIndex}},{key:"incrementLetterIndex",value:function(){this.letterIndex=(this.letterIndex+1)%this.currentBytes.length}},{key:"getExpectedLetter",value:function(){return this.currentBytes.charAt(this.letterIndex)}}]),e}(),y=(r(65),o.a.memo((function(e){var t=e.role,r=e.letter,a=e.currentHeadDirection,o=e.currentTailDirection,c=e.currentTailPivot,s=function(e){switch(e){case i.Down:return"t2b";case i.Up:return"b2t";case i.Left:return"r2l";case i.Right:return"l2r";case i.None:return"none";default:throw new Error("invalid dir")}},l=function(){switch(t){case n.FirstTail:case n.Canvas:return"box";case n.Head:return"head_".concat(s(a));case n.FirstHead:return"head_none";case n.Body:return"snake";case n.Tail:return"tail_".concat(s(c!==i.None?c:o));case n.Byte:return"food";default:throw new Error("invalid role")}}();return"food"===l?Object(u.jsx)("div",{className:l,children:Object(u.jsx)(h,{letter:r})}):Object(u.jsx)("div",{className:l})}))),k=(r(66),function(e){var t=e.grid,r=e.currentHeadDirection,i=e.currentTailDirection,n=e.currentTailPivot;return Object(u.jsx)("div",{className:"grid",children:t.flat().map((function(e,t){return Object(u.jsx)(y,{role:e.role,letter:e.letter,id:t,currentHeadDirection:r,currentTailDirection:i,currentTailPivot:n},t)}))})}),w=r(49),O=(r(67),function(e){switch(e){case n.Body:return"b ";case n.Head:return"h ";case n.Tail:return"t ";case n.Canvas:return"c ";case n.Byte:return"f ";default:throw new Error("invalid role")}}),x=function(e){switch(e){case i.Down:return"d ";case i.Up:return"u ";case i.Left:return"l ";case i.Right:return"r ";case i.None:return"n ";default:throw new Error("invalid direction")}},C=function(e){var t=e.role,r=e.direction,i=e.pivot;return Object(u.jsxs)("div",{className:"debugBox",children:[t>0?O(t):null,r>0?x(r):null,t>0?x(i).toUpperCase():null]})},S=(r(68),function(e){var t=e.grid;return Object(u.jsx)("div",{className:"debugGrid",children:t.flat().map((function(e,t){return Object(u.jsx)(C,{role:e.role,letter:e.letter,direction:e.direction,pivot:e.pivot},t)}))})}),D=(r(69),r(16)),N=(r(70),r(71),o.a.memo((function(e){return Object(u.jsx)("div",{className:"wordTilesContainer",children:Object(D.a)(e.bytes).map((function(e,t){return Object(u.jsx)("div",{className:"tile",children:e},t)}))})}))),B=document.querySelector(":root"),H=getComputedStyle(B).getPropertyValue("--tick"),T=1e3*parseFloat(H.substr(0,H.length-1)),P=new URL(window.location.href),E=(new URLSearchParams(P.search),new m);E.initGridData();var L=E.getGridSize(),I=E.getGrid(),z=function(e){var t=e.modalTitle,r=Object(a.useState)(E.getSnake().getSnakeEnds()),o=Object(l.a)(r,2),c=o[0],s=o[1],h=Object(a.useState)(!1),f=Object(l.a)(h,2),g=f[0],b=f[1],v=Object(a.useState)(!1),j=Object(l.a)(v,2),p=j[0],m=j[1],y=Object(a.useState)(""),O=Object(l.a)(y,2),x=O[0],C=O[1],D=!1,B=function(e){if(!function(e){var t=c.head.row,r=c.head.col;return I[t][r].role===n.Byte}()){var t=c.tail.row,r=c.tail.col,a=I[t][r].pivot,o=a!==i.None?a:E.getCurrentTailDirection();I[t][r].role=n.Canvas,I[t][r].direction=i.None,a!==i.None&&(I[t][r].pivot=i.None);var s=t,l=r;switch(o){case i.Up:s=c.tail.row-1<0?L-1:c.tail.row-1;break;case i.Down:s=c.tail.row+1>=L?0:c.tail.row+1;break;case i.Right:l=c.tail.col+1>=L?0:c.tail.col+1;break;case i.Left:l=c.tail.col-1<0?L-1:c.tail.col-1;break;default:b(!1);var d="Invalid tail direction!";throw alert(d),new Error(d)}e.tail.row=s,e.tail.col=l,I[s][l].role=n.Tail,I[s][l].direction=o}},H=function(e){return B(e),function(e){var t=c.head.row,r=c.head.col,a=E.getCurrentHeadDirection();I[t][r].role=n.Body,I[t][r].direction=i.None;var o=t,s=r;switch(a){case i.Up:o=c.head.row-1<0?L-1:c.head.row-1;break;case i.Down:o=c.head.row+1>=L?0:c.head.row+1;break;case i.Right:s=c.head.col+1>=L?0:c.head.col+1;break;case i.Left:s=c.head.col-1<0?L-1:c.head.col-1;break;default:b(!1);var l="Invalid head direction!";throw alert(l),new Error(l)}switch(e.head.row=o,e.head.col=s,I[o][s].role){case n.Tail:case n.Canvas:I[o][s].role=n.Head;break;case n.Byte:var d=E.getExpectedLetter().toUpperCase(),u=I[o][s].letter;if(u!==d){var h="Wrong letter, expected = ".concat(d,", letter = ").concat(u);throw alert(h),new Error(h)}var f=E.getLetterIndex()>0?x+u:u;C(f),E.incrementLetterIndex(),0===E.getLetterIndex()&&E.setRandomBytePositions();break;default:b(!1);var g="Head collision with invalid role , ".concat(I[o][s].role);throw alert(g),new Error(g)}I[o][s].direction=a}(e),e};!function(e,t){var r=Object(a.useRef)(e);Object(a.useLayoutEffect)((function(){r.current=e}),[e]),Object(a.useEffect)((function(){if(t){var e=setInterval((function(){return r.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=Object(d.a)({},c),t=H(e);s(t),E.getSnake().setSnakeEnds(e),D=!1}),g?T:null),Object(a.useEffect)((function(){""!==t&&b(!1)}),[t]);var P=Object(a.useCallback)((function(){if(""===t){if(!g){var e=E.getCurrentTailDirection();E.getCurrentHeadDirection()===i.None&&e===i.None&&(E.setCurrentTailDirection(i.Right),E.setCurrentHeadDirection(i.Right))}b((function(e){return!e}))}else b(!1)}),[g,t]),z=(Object(a.useCallback)((function(){m((function(e){return!e}))}),[]),Object(w.useSwipeable)({onSwipedLeft:function(){if(!D)if(g){var e=E.getCurrentHeadDirection();e!==i.Left&&e!==i.Right&&(E.setCurrentHeadDirection(i.Left),E.setPivotOnCurrentHeadDirection(i.Left),D=!0)}else P()},onSwipedRight:function(){if(!D)if(g){var e=E.getCurrentHeadDirection();e!==i.Left&&e!==i.Right&&(E.setCurrentHeadDirection(i.Right),E.setPivotOnCurrentHeadDirection(i.Right),D=!0)}else P()},onSwipedDown:function(){if(!D)if(g){var e=E.getCurrentHeadDirection();e!==i.Down&&e!==i.Up&&(E.setCurrentHeadDirection(i.Down),E.setPivotOnCurrentHeadDirection(i.Down),D=!0)}else P()},onSwipedUp:function(){if(!D)if(g){var e=E.getCurrentHeadDirection();e!==i.Down&&e!==i.Up&&(E.setCurrentHeadDirection(i.Up),E.setPivotOnCurrentHeadDirection(i.Up),D=!0)}else P()},preventDefaultTouchmoveEvent:!0,trackMouse:!0}));return Object(u.jsxs)("div",Object(d.a)(Object(d.a)({},z),{},{className:"game",children:[Object(u.jsx)("div",{className:"gridContainer",children:p?Object(u.jsx)(S,{grid:I}):Object(u.jsx)(k,{grid:I,currentHeadDirection:E.getCurrentHeadDirection(),currentTailDirection:E.getCurrentTailDirection(),currentTailPivot:E.getPivotDirectionOnCurrentTail()})}),Object(u.jsx)(N,{bytes:x})]}))},R=(r(72),o.a.memo((function(e){return Object(u.jsx)("div",{className:"title",children:e.title})}))),M=(r(73),r(107)),U=r(50),F=r(106),V=r(99),A=r(100),G=r(101),q=r(102),W=document.querySelector(":root"),_=getComputedStyle(W).getPropertyValue("--fontColor"),J=Object(U.a)({palette:{primary:{main:_.trim()}}}),X=function(e){return Object(u.jsx)(F.a,{theme:J,children:Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"menuleft",children:[Object(u.jsx)(M.a,{"aria-label":"Menu",color:"primary",size:"small",children:Object(u.jsx)(V.a,{})}),Object(u.jsx)(M.a,{"aria-label":"Instruction",color:"primary",size:"small",onClick:e.onClickInstructions,children:Object(u.jsx)(A.a,{})})]}),Object(u.jsx)(R,{title:"Snake Bytes"}),Object(u.jsxs)("div",{className:"menuright",children:[Object(u.jsx)(M.a,{"aria-label":"Stats",color:"primary",size:"small",children:Object(u.jsx)(G.a,{})}),Object(u.jsx)(M.a,{"aria-label":"Settings",color:"primary",size:"small",onClick:e.onClickSettings,children:Object(u.jsx)(q.a,{})})]})]})})},K=(r(78),r(79),o.a.memo((function(e){var t=e.onClick,r=e.title;return Object(u.jsxs)("div",{className:"modalHeader",children:[Object(u.jsx)("div",{className:"titleContainer",children:Object(u.jsx)(R,{title:r})}),Object(u.jsx)("button",{className:"close",onClick:t,children:"X"})]})}))),Q=o.a.memo((function(e){var t=e.onClose,r=e.title,i=Object(a.useState)("closed"),n=Object(l.a)(i,2),o=n[0],c=n[1];return Object(a.useEffect)((function(){c(""!==r?"modalOverlayIn":"modalOverlayOut"),""===r&&setTimeout((function(){return c("closed")}),400)}),[r]),Object(a.useEffect)((function(){c("closed")}),[]),Object(u.jsx)("div",{className:o,children:Object(u.jsxs)("div",{className:"modalContainer",children:[Object(u.jsx)(K,{onClick:t,title:r}),e.children]})})})),Y=r.p+"static/media/snakeSmile.c4c253be.gif",Z=(r(80),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"Swipe anywhere on the screen to start the game."}),Object(u.jsx)("p",{children:"Navigate your snake by swiping left, right, up or down. This will change the direction of the snake's head."}),Object(u.jsx)("p",{children:"Steer the snake to capture the letters in the correct order and create a 5 letter word using the randomly placed letters. Score 100 points per word solved + bonus points for speedy solutions."}),Object(u.jsx)("p",{children:"Avoid colliding the snake's head with it's own body."}),Object(u.jsx)("img",{src:Y,alt:"funny snake GIF"})]})),$=r(104),ee=(r(81),r(12)),te={inputProps:{"aria-label":"Hints"}},re={inputProps:{"aria-label":"Dark mode"}},ie=document.querySelector(":root"),ne=getComputedStyle(ie),ae=ne.getPropertyValue("--foodColor"),oe=ne.getPropertyValue("--snakeColor"),ce=Object(ee.a)($.a)((function(e){e.theme;return{"& .MuiSwitch-switchBase.Mui-checked":{color:ae.trim()},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:ae.trim()},"& .MuiSwitch-track":{backgroundColor:oe.trim()}}})),se=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),r=t[0],i=t[1],n=Object(a.useState)(!0),o=Object(l.a)(n,2),c=o[0],s=o[1];Object(a.useEffect)((function(){console.log('darkModeChecked  = ",\n      '.concat(c,"\n      ").concat(ne.getPropertyValue("--darkBackground").trim())),c?(ie.style.setProperty("--appBackgroundColor",ne.getPropertyValue("--darkBackground").trim()),ie.style.setProperty("--fontColor",ne.getPropertyValue("--darkFont").trim()),ie.style.setProperty("--boxBackgroundColor",ne.getPropertyValue("--darkBox").trim())):(ie.style.setProperty("--appBackgroundColor",ne.getPropertyValue("--lightBackground").trim()),ie.style.setProperty("--fontColor",ne.getPropertyValue("--lightFont").trim()),ie.style.setProperty("--boxBackgroundColor",ne.getPropertyValue("--lightBox").trim()))}),[c]);return Object(u.jsxs)("div",{className:"settingsContainer",children:[Object(u.jsxs)("div",{className:"rowContainer",children:[Object(u.jsx)("div",{className:"settingsTitleContainer",children:Object(u.jsx)("div",{className:"rowTitle",children:"Hints"})}),Object(u.jsx)(ce,Object(d.a)(Object(d.a)({},te),{},{checked:r,onChange:function(e){i(e.target.checked)}}))]}),Object(u.jsxs)("div",{className:"rowContainer",children:[Object(u.jsx)("div",{className:"settingsTitleContainer",children:Object(u.jsx)("div",{className:"rowTitle",children:"Dark mode"})}),Object(u.jsx)(ce,Object(d.a)(Object(d.a)({},re),{},{checked:c,onChange:function(e){s(e.target.checked)}}))]})]})},le={None:{title:"",children:Object(u.jsx)(u.Fragment,{})},About:{title:"About",children:null},Instructions:{title:"How to play",children:Z},Stats:{title:"Statistics",children:null},Setting:{title:"Settings",children:Object(u.jsx)(se,{})}},de=function(){var e=Object(a.useState)(le.None),t=Object(l.a)(e,2),r=t[0],i=t[1];return Object(u.jsxs)("div",{className:"appContainer",children:[Object(u.jsx)(X,{onClickInstructions:function(){i(le.Instructions)},onClickSettings:function(){i(le.Setting)}}),Object(u.jsx)(Q,{onClose:function(){i(le.None)},title:r.title,children:r.children}),Object(u.jsx)(z,{modalTitle:r.title})]})};s.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(de,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.5c322a0c.chunk.js.map