{"version":3,"sources":["grid.ts","byte.tsx","byteList.ts","bytes.ts","snake.ts","box.tsx","gridRenderer.tsx","debug/debugBox.tsx","debug/debugGrid.tsx","wordtiles.tsx","gridContainer.tsx","useInterval.tsx","title.tsx","header.tsx","components/modals/modalHeader.tsx","components/modals/modalPage.tsx","snakeSmile.gif","components/modals/instructions.tsx","components/modals/settings.tsx","App.tsx","components/modals/statistics.tsx","launchSettings.ts","index.tsx"],"names":["Direction","Role","Byte","React","memo","props","letter","className","byteList","Bytes","index","storageByteList","localStorage","getItem","this","JSON","parse","shuffle","setItem","stringify","storageIndex","array","console","log","randomIndex","currentIndex","length","Math","floor","random","nextWord","Snake","snakeEnds","tail","row","col","head","setSnakeEnds","GridItem","role","Canvas","direction","None","pivot","letterIndex","Grid","grid","gridSize","snake","bytes","currentBytes","hintsPerWord","hintList","root","document","querySelector","rootStyle","getComputedStyle","parseInt","getPropertyValue","Array","i","j","getSnakeEnds","FirstTail","FirstHead","Body","Error","setRandomBytePositions","getNextWord","currentHeadDir","randomRow","randomCol","horizontalDistance","abs","verticalDistance","Right","Left","Up","Down","charAt","toUpperCase","column","getLetterIndex","HintedByte","Box","currentHeadDirection","currentTailDirection","currentTailPivot","getClassNameFromDirection","dir","alert","Head","WrongBody","Tail","WrongByte","CorrectByte","getClassName","startsWith","undefined","toString","GridRenderer","flat","map","item","id","getStringRole","getStringDirection","DebugBox","DebugGrid","WordTiles","score","digit","tickCount","tickCountMs","parseFloat","substr","url","URL","window","location","href","gridObj","URLSearchParams","search","initGridData","getGridSize","getGrid","currentLetter","GridContainer","modalTitle","onGameEnd","useState","getSnake","playing","setPlaying","debug","setDebug","movePending","hints","progressiveSpeed","hintsOn","progressiveSpeedOn","hintsTimeOutId","useRef","startDate","resetGameToStart","getCurrentBytes","setTimeout","resetSnakeEnds","resetGrid","clearTimeout","current","style","setProperty","calculateNewHead","ends","currentHeadRow","currentHeadCol","getCurrentHeadDirection","newHeadRow","newHeadCol","expected","getExpectedLetter","landed","incrementLetterIndex","endDate","Date","seconds","getTime","bonus","calculateScore","resetHintTimer","increaseSpeed","getHintsPerWord","calculateNewTail","isHeadOnByte","currentTailRow","currentTailCol","pivotDir","currentTailDir","getCurrentTailDirection","newTailRow","newTailCol","callback","delay","savedCallback","useLayoutEffect","useEffect","setInterval","clearInterval","useInterval","newEnds","getNewEnds","useCallback","resetHint","onHintTimer","setHint","handleOnPlayPauseGame","setCurrentTailDirection","setCurrentHeadDirection","handlers","useSwipeable","onSwipedLeft","setPivotOnCurrentHeadDirection","onSwipedRight","onSwipedDown","onSwipedUp","preventDefaultTouchmoveEvent","trackMouse","getPivotDirectionOnCurrentTail","Title","title","Header","outerTheme","createTheme","palette","primary","main","trim","ThemeProvider","theme","IconButton","color","size","MenuRounded","onClick","onClickInstructions","HelpRounded","onClickStatistics","LeaderboardRounded","onClickSettings","SettingsRounded","ModalHeader","ModalPage","onClose","isWindow","setClassName","containerClassName","setContainerClassName","children","instructions","src","snakeSmile","alt","hintsLabel","inputProps","colorModeLabel","switchColorMain","switchColorLight","GreenSwitch","styled","Switch","backgroundColor","Settings","darkMode","hintsChecked","setHintsChecked","darkModeChecked","setDarkModeChecked","progressiveSpeedChecked","setProgressiveSpeedChecked","checked","onChange","event","target","e","ModalObj","About","Instructions","Statistics","Setting","isFirstVisit","isFirst","initLaunchSettings","App","modalType","setModalType","ReactDOM","render","StrictMode","getElementById"],"mappings":"scAGYA,EAQAC,E,+ECLCC,EAA4CC,IAAMC,MAAK,SAACC,GACnE,IAAQC,EAAWD,EAAXC,OACR,OAAO,qBAAKC,UAAU,aAAf,SAA6BD,O,gBCRzBE,EAAqB,CAChC,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SCxPWC,EAAb,WAwBE,aAAsB,yBAvBdD,SAAqB,GAuBR,KAtBbE,MAAgB,EAuBtB,IAAMC,EAAkBC,aAAaC,QAAQ,YACzCF,EACFG,KAAKN,SAAWO,KAAKC,MAAML,IAE3BG,KAAKN,SAAWM,KAAKG,QAAQT,GAC7BI,aAAaM,QAAQ,WAAYH,KAAKI,UAAUL,KAAKN,YAGvD,IAAMY,EAAeR,aAAaC,QAAQ,aACtCO,EACFN,KAAKJ,MAAQK,KAAKC,MAAMI,IAExBN,KAAKJ,MAAQ,EACbE,aAAaM,QAAQ,YAAaH,KAAKI,UAAUL,KAAKJ,SAtC5D,2CAIE,SAAeW,GACbC,QAAQC,IAAI,mCAKZ,IAJA,IACIC,EADAC,EAAeJ,EAAMK,OAID,IAAjBD,GAAoB,CAEzBD,EAAcG,KAAKC,MAAMD,KAAKE,SAAWJ,GACzCA,IAHyB,MAMmB,CAC1CJ,EAAMG,GACNH,EAAMI,IAFPJ,EAAMI,GANkB,KAMHJ,EAAMG,GANH,KAY3B,OAAOH,IAtBX,yBA0CE,WACE,IAAMS,EAAWhB,KAAKN,SAASM,KAAKJ,OAGpC,OAFAI,KAAKJ,OAASI,KAAKJ,MAAQ,GAAKI,KAAKN,SAASkB,OAC9Cd,aAAaM,QAAQ,YAAaH,KAAKI,UAAUL,KAAKJ,QAC/CoB,MA9CX,KCKaC,EAAb,iDACUC,UAAwB,CAC9BC,KAAM,CAAEC,IAAK,EAAGC,IAAK,GACrBC,KAAM,CAAEF,IAAK,EAAGC,IAAK,KAHzB,kDAME,WACErB,KAAKuB,aAAa,CAChBJ,KAAM,CAAEC,IAAK,EAAGC,IAAK,GACrBC,KAAM,CAAEF,IAAK,EAAGC,IAAK,QAT3B,0BAaE,WACE,OAAOrB,KAAKkB,YAdhB,0BAiBE,SAAoBA,GAClBlB,KAAKkB,UAAYA,IAlBrB,wBAqBE,WAEE,OAAO,IAvBX,yBA0BE,WAEE,OAAO,MA5BX,M,SJJYhC,O,eAAAA,I,WAAAA,I,eAAAA,I,iBAAAA,I,gBAAAA,M,cAQAC,O,mBAAAA,I,eAAAA,I,yBAAAA,I,eAAAA,I,eAAAA,I,eAAAA,I,2BAAAA,I,yBAAAA,I,6BAAAA,I,yBAAAA,I,2BAAAA,M,SA2BNqC,E,mDACJC,KAAOtC,EAAKuC,O,KACZC,UAAYzC,EAAU0C,K,KACtBC,MAAQ3C,EAAU0C,K,KAClBpC,OAAS,G,KACTsC,aAAe,KAGJC,EAAb,WAWE,aAAsB,yBAVdC,UAUa,OATbC,cASa,OARbC,WAQa,OANbC,WAMa,OALbC,aAAuB,QAKV,KAJbN,YAAsB,EAIT,KAHbO,aAAuB,EAGV,KAFbC,cAEa,EACnB,IAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAYC,iBAAiBJ,GACnCvC,KAAKiC,SAAWW,SAASF,EAAUG,iBAAiB,eACpD7C,KAAKmC,MAAQ,IAAIxC,EAEjBK,KAAKgC,KAAO,IAAIc,MAAM9C,KAAKiC,UAC3B,IAAK,IAAIc,EAAI,EAAGA,EAAI/C,KAAKiC,SAAUc,IACjC/C,KAAKgC,KAAKe,GAAK,IAAID,MAAM9C,KAAKiC,UAGhC,IAAK,IAAIc,EAAI,EAAGA,EAAI/C,KAAKiC,SAAUc,IACjC,IAAK,IAAIC,EAAI,EAAGA,EAAIhD,KAAKiC,SAAUe,IACjChD,KAAKgC,KAAKe,GAAGC,GAAK,IAAIxB,EAI1BxB,KAAKkC,MAAQ,IAAIjB,EACjBjB,KAAKsC,SAAW,IAAIQ,MAAM9C,KAAKqC,cA7BnC,2CAgCE,WACE,OAAOrC,KAAKgC,OAjChB,uBAoCE,WACE,IAAK,IAAIe,EAAI,EAAGA,EAAI/C,KAAKiC,SAAUc,IACjC,IAAK,IAAIC,EAAI,EAAGA,EAAIhD,KAAKiC,SAAUe,IACjChD,KAAKgC,KAAKe,GAAGC,GAAGvB,KAAOtC,EAAKuC,OAC5B1B,KAAKgC,KAAKe,GAAGC,GAAGrB,UAAYzC,EAAU0C,KACtC5B,KAAKgC,KAAKe,GAAGC,GAAGnB,MAAQ3C,EAAU0C,KAClC5B,KAAKgC,KAAKe,GAAGC,GAAGxD,OAAS,GACzBQ,KAAKgC,KAAKe,GAAGC,GAAGlB,aAAe,EAGnC9B,KAAK8B,YAAc,IA9CvB,yBAiDE,WACE,OAAO9B,KAAKiC,WAlDhB,sBAqDE,WACE,OAAOjC,KAAKkC,QAtDhB,qCAyDE,WACE,IAAQZ,EAAStB,KAAKkC,MAAMe,eAApB3B,KACR,OAAOtB,KAAKgC,KAAKV,EAAKF,KAAKE,EAAKD,KAAKM,YA3DzC,qCA8DE,WACE,IAAQR,EAASnB,KAAKkC,MAAMe,eAApB9B,KACR,OAAOnB,KAAKgC,KAAKb,EAAKC,KAAKD,EAAKE,KAAKM,YAhEzC,qCAmEE,SAA+BA,GAC7B,IAAQL,EAAStB,KAAKkC,MAAMe,eAApB3B,KACRtB,KAAKgC,KAAKV,EAAKF,KAAKE,EAAKD,KAAKM,UAAYA,IArE9C,4CAwEE,WACE,IAAQR,EAASnB,KAAKkC,MAAMe,eAApB9B,KACR,OAAOnB,KAAKgC,KAAKb,EAAKC,KAAKD,EAAKE,KAAKQ,QA1EzC,qCA6EE,SAA+BF,GAC7B,IAAQR,EAASnB,KAAKkC,MAAMe,eAApB9B,KACRnB,KAAKgC,KAAKb,EAAKC,KAAKD,EAAKE,KAAKM,UAAYA,IA/E9C,4CAkFE,SAA+BE,GAC7B,IAAQP,EAAStB,KAAKkC,MAAMe,eAApB3B,KACRtB,KAAKgC,KAAKV,EAAKF,KAAKE,EAAKD,KAAKQ,MAAQA,IApF1C,0BAuFE,WACE,MAAuB7B,KAAKkC,MAAMe,eAA1B9B,EAAR,EAAQA,KAAMG,EAAd,EAAcA,KAQd,GANAtB,KAAKgC,KAAKb,EAAKC,KAAKD,EAAKE,KAAKM,UAAYzC,EAAU0C,KACpD5B,KAAKgC,KAAKV,EAAKF,KAAKE,EAAKD,KAAKM,UAAYzC,EAAU0C,KAEpD5B,KAAKgC,KAAKb,EAAKC,KAAKD,EAAKE,KAAKI,KAAOtC,EAAK+D,UAC1ClD,KAAKgC,KAAKV,EAAKF,KAAKE,EAAKD,KAAKI,KAAOtC,EAAKgE,UAEtChC,EAAKC,MAAQE,EAAKF,IAEpB,IAAK,IAAI2B,EAAI5B,EAAKE,IAAM,EAAG0B,EAAIzB,EAAKD,IAAK0B,IACvC/C,KAAKgC,KAAKb,EAAKC,KAAK2B,GAAGtB,KAAOtC,EAAKiE,KACnCpD,KAAKgC,KAAKV,EAAKF,KAAK2B,GAAGtB,KAAOtC,EAAKiE,SAEhC,IAAIjC,EAAKE,MAAQC,EAAKD,IAO3B,MAAM,IAAIgC,MAAM,sBALhB,IAAK,IAAIN,EAAI5B,EAAKC,IAAM,EAAG2B,EAAIzB,EAAKF,IAAK2B,IACvC/C,KAAKgC,KAAKe,GAAG5B,EAAKE,KAAKI,KAAOtC,EAAKiE,KACnCpD,KAAKgC,KAAKe,GAAG5B,EAAKE,KAAKI,KAAOtC,EAAKiE,KAKvCpD,KAAKsD,2BA/GT,oCAmHE,WACEtD,KAAKoC,aAAepC,KAAKmC,MAAMoB,cAK/B,IAJA,IAAQjC,EAAStB,KAAKkC,MAAMe,eAApB3B,KACFkC,EAAiBxD,KAAKgC,KAAKV,EAAKF,KAAKE,EAAKD,KAAKM,UAG5CoB,EAAI,EAAGA,EAAI/C,KAAKoC,aAAaxB,OAAQmC,IAC5C,OAAG,CACD,IAAIU,EAAY5C,KAAKC,MAAMD,KAAKE,SAAWf,KAAKiC,UAC5CyB,EAAY7C,KAAKC,MAAMD,KAAKE,SAAWf,KAAKiC,UAEhD,GAAIjC,KAAKgC,KAAKyB,GAAWC,GAAWjC,OAAStC,EAAKuC,OAAQ,CACxD,IAAIiC,EAAqB9C,KAAK+C,IAAIF,EAAYpC,EAAKD,KAC/CwC,EAAmBhD,KAAK+C,IAAIH,EAAYnC,EAAKF,KAEjD,OAAQoC,GACN,KAAKtE,EAAU4E,MACf,KAAK5E,EAAU6E,KACb,GAAIJ,GAdA,EAc6B,CAC/BnD,QAAQC,IAAI,2BACZ,SAEF,MAEF,KAAKvB,EAAU8E,GACf,KAAK9E,EAAU+E,KACb,GAAIJ,GAtBA,EAsB2B,CAC7BrD,QAAQC,IAAI,+BACZ,UAINT,KAAKgC,KAAKyB,GAAWC,GAAWjC,KAAOtC,EAAKC,KAC5CY,KAAKgC,KAAKyB,GAAWC,GAAWlE,OAASQ,KAAKoC,aAC3C8B,OAAOnB,GACPoB,cACHnE,KAAKgC,KAAKyB,GAAWC,GAAW5B,YAAciB,EAE1CA,EAAI/C,KAAKqC,eACXrC,KAAKsC,SAASS,GAAK,CAAE3B,IAAKqC,EAAWW,OAAQV,IAE/C,MAEAlD,QAAQC,IAAI,8BA9JtB,4BAoKE,WACE,OAAOT,KAAK8B,cArKhB,kCAwKE,WAEE9B,KAAK8B,aAAe9B,KAAK8B,YAAc,GAAK9B,KAAKoC,aAAaxB,SA1KlE,+BA6KE,WAEE,OADiBZ,KAAKoC,aAAa8B,OAAOlE,KAAK8B,eA9KnD,6BAkLE,WACE,OAAO9B,KAAKoC,eAnLhB,qBAuLE,WACE,IAAMxC,EAAQI,KAAKqE,iBACfzE,EAAQI,KAAKqC,eACfrC,KAAKgC,KAAKhC,KAAKsC,SAAS1C,GAAOwB,KAAKpB,KAAKsC,SAAS1C,GAAOwE,QAAQ3C,KAC/DtC,EAAKmF,cA3Lb,uBA+LE,WACE,IAAK,IAAIvB,EAAI,EAAGA,EAAI/C,KAAKqC,aAAcU,IAEnC/C,KAAKgC,KAAKhC,KAAKsC,SAASS,GAAG3B,KAAKpB,KAAKsC,SAASS,GAAGqB,QAAQ3C,OACzDtC,EAAKmF,aAELtE,KAAKgC,KAAKhC,KAAKsC,SAASS,GAAG3B,KAAKpB,KAAKsC,SAASS,GAAGqB,QAAQ3C,KACvDtC,EAAKC,QAtMf,6BA0ME,WACE,OAAOY,KAAKqC,iBA3MhB,KK/BakC,G,MAA0ClF,IAAMC,MAAK,SAACC,GACjE,IACEkC,EAMElC,EANFkC,KACAjC,EAKED,EALFC,OACAsC,EAIEvC,EAJFuC,YACA0C,EAGEjF,EAHFiF,qBACAC,EAEElF,EAFFkF,qBACAC,EACEnF,EADFmF,iBAGIC,EAA4B,SAACC,GACjC,OAAQA,GACN,KAAK1F,EAAU+E,KACb,MAAO,MACT,KAAK/E,EAAU8E,GACb,MAAO,MACT,KAAK9E,EAAU6E,KACb,MAAO,MACT,KAAK7E,EAAU4E,MACb,MAAO,MACT,KAAK5E,EAAU0C,KAEb,OADAiD,MAAM,yBACC,OACT,QACE,MAAM,IAAIxB,MAAM,iBAoClB5D,EAhCiB,WACnB,OAAQgC,GACN,KAAKtC,EAAK+D,UACV,KAAK/D,EAAKuC,OACR,MAAO,MACT,KAAKvC,EAAK2F,KACR,MAAM,QAAN,OAAeH,EAA0BH,IAC3C,KAAKrF,EAAKgE,UACR,MAAO,YACT,KAAKhE,EAAKiE,KACR,MAAO,QACT,KAAKjE,EAAK4F,UACR,MAAO,YACT,KAAK5F,EAAK6F,KACR,MAAM,QAAN,OAAeL,EACbD,IAAqBxF,EAAU0C,KAC3B8C,EACAD,IAER,KAAKtF,EAAKC,KACR,MAAO,OACT,KAAKD,EAAKmF,WACR,MAAO,aACT,KAAKnF,EAAK8F,UACR,MAAO,YACT,KAAK9F,EAAK+F,YACR,MAAO,cACT,QACE,MAAM,IAAI7B,MAAM,iBAIN8B,GAUhB,OARI1F,EAAU2F,WAAW,UACvB3F,EAAS,wBACS4F,IAAhBvD,GAA6BA,GAAe,EACxCA,EAAYwD,WACZ,KAID7F,EAAU2F,WAAW,SACZ,eAAd3F,GACc,gBAAdA,GACc,cAAdA,EACA,qBAAKA,UAAWA,EAAhB,SACE,cAACL,EAAD,CAAMI,OAAQA,MAGhB,qBAAKC,UAAWA,QCjFP8F,G,MAA4D,SACvEhG,GAEA,IAAQyC,EACNzC,EADMyC,KAAMwC,EACZjF,EADYiF,qBAAsBC,EAClClF,EADkCkF,qBAAsBC,EACxDnF,EADwDmF,iBAG1D,OACE,qBAAKjF,UAAW,OAAhB,SACGuC,EAAKwD,OAAOC,KAAI,SAACC,EAAM9F,GAAP,OACf,cAAC2E,EAAD,CACE9C,KAAMiE,EAAKjE,KACXjC,OAAQkG,EAAKlG,OACbmG,GAAI/F,EAEJkC,YACkB,KAAhB4D,EAAKlG,SAAuC,IAAtBkG,EAAK5D,YACvB4D,EAAK5D,iBACLuD,EAENb,qBACEkB,EAAKjE,OAAStC,EAAK2F,KAAON,OAAuBa,EAEnDZ,qBACEiB,EAAKjE,OAAStC,EAAK6F,KAAOP,OAAuBY,EAEnDX,iBACEgB,EAAKjE,OAAStC,EAAK6F,KAAON,OAAmBW,GAb1CzF,U,QCtBTgG,G,MAAgB,SAACnE,GACrB,OAAQA,GACN,KAAKtC,EAAKiE,KACR,MAAO,KACT,KAAKjE,EAAK2F,KACR,MAAO,KACT,KAAK3F,EAAK6F,KACR,MAAO,KACT,KAAK7F,EAAKuC,OACR,MAAO,KACT,KAAKvC,EAAKC,KACR,MAAO,KACT,QACE,MAAM,IAAIiE,MAAM,mBAIhBwC,EAAqB,SAAClE,GAC1B,OAAQA,GACN,KAAKzC,EAAU+E,KACb,MAAO,KACT,KAAK/E,EAAU8E,GACb,MAAO,KACT,KAAK9E,EAAU6E,KACb,MAAO,KACT,KAAK7E,EAAU4E,MACb,MAAO,KACT,KAAK5E,EAAU0C,KACb,MAAO,KACT,QACE,MAAM,IAAIyB,MAAM,uBAITyC,EAA+C,SAACvG,GAC3D,IAAQkC,EAA2BlC,EAA3BkC,KAAME,EAAqBpC,EAArBoC,UAAWE,EAAUtC,EAAVsC,MACzB,OACE,sBAAKpC,UAAW,WAAhB,UACGgC,EAAO,EAAImE,EAAcnE,GAAQ,KACjCE,EAAY,EAAIkE,EAAmBlE,GAAa,KAChDF,EAAO,EAAIoE,EAAmBhE,GAAOsC,cAAgB,SCjC/C4B,G,MAAsD,SAACxG,GAClE,IAAQyC,EAASzC,EAATyC,KACR,OACE,qBAAKvC,UAAW,YAAhB,SACGuC,EAAKwD,OAAOC,KAAI,SAACC,EAAM9F,GAAP,OACf,cAAC,EAAD,CACEkC,YAAa4D,EAAK5D,YAElBL,KAAMiE,EAAKjE,KACXjC,OAAQkG,EAAKlG,OACbmC,UAAW+D,EAAK/D,UAChBE,MAAO6D,EAAK7D,OAJPjC,U,gBCVFoG,G,YAAqD3G,IAAMC,MACtE,SAACC,GACC,OACE,sBAAKE,UAAW,qBAAhB,UACE,qBAAKA,UAAU,gBAAf,SACG,YAAIF,EAAM4C,OAAOsD,KAAI,SAACjG,EAAQI,GAAT,OACpB,qBAAiBH,UAAW,aAA5B,SACGD,GADOI,QAKbL,EAAM0G,MAAQ,EACb,qBAAKxG,UAAU,gBAAf,SACG,YAAIF,EAAM0G,MAAMX,YAAYG,KAAI,SAACS,EAAOtG,GAAR,OAC/B,qBAAiBH,UAAW,aAA5B,SACGyG,GADOtG,QAKZ,YCfN2C,EAAOC,SAASC,cAAc,SAG9B0D,EAFYxD,iBAAiBJ,GAEPM,iBAAiB,UACzCuD,EAAsE,IAAxDC,WAAWF,EAAUG,OAAO,EAAGH,EAAUvF,OAAS,IAE9D2F,EAAW,IAAIC,IAAIC,OAAOC,SAASC,MAEnCC,GADkB,IAAIC,gBAAgBN,EAAIO,QAChC,IAAI/E,GACpB6E,EAAQG,eAER,IAAM9E,EAAW2E,EAAQI,cACnBhF,EAAO4E,EAAQK,UAGjBhB,EAAQ,EACRiB,EAAgB,GAOPC,EAAyD,SACpE5H,GAEA,IAAQ6H,EAA0B7H,EAA1B6H,WAAYC,EAAc9H,EAAd8H,UACpB,EAAkCC,mBAASV,EAAQW,WAAWtE,gBAA9D,mBAAO/B,EAAP,KAAkBK,EAAlB,KACA,EAA8B+F,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,oBAAS,GAAnC,mBAAOI,EAAP,KAAcC,EAAd,KAEIC,GAAc,EACZC,EAAQ/H,aAAaC,QAAQ,SAC7B+H,EAAmBhI,aAAaC,QAAQ,oBACxCgI,EAAUF,EAAQ5H,KAAKC,MAAM2H,GAAS,OACtCG,EAAqBF,EACvB7H,KAAKC,MAAM4H,GACX,OACAG,EAAsBC,iBAAO,MAC7BC,EAAiBD,iBAAO,MA6DtBE,EAAmB,WACvBlB,EAAgBN,EAAQyB,kBAAkBlE,cAC1CsD,GAAW,GAGXa,YAAW,WACTjB,IACAiB,YAAW,WACT1B,EAAQW,WAAWgB,iBACnB3B,EAAQ4B,YACR5B,EAAQG,eACRxF,EAAaqF,EAAQW,WAAWtE,gBAEhCwF,aAAaR,GACbE,EAAUO,QAAU,KACpBzC,EAAQ,EACRiB,EAAgB,GAChBd,EAAc,IACD5D,SAASC,cAA2B,SAC5CkG,MAAMC,YAAY,SAAU,UAChC,OACF,MA4BCC,EAAmB,SAACC,GAExB,IAAMC,EAAiB7H,EAAUI,KAAKF,IAChC4H,EAAiB9H,EAAUI,KAAKD,IAChCmC,EAAiBoD,EAAQqC,0BAE/BjH,EAAK+G,GAAgBC,GAAgBvH,KAAOtC,EAAKiE,KACjDpB,EAAK+G,GAAgBC,GAAgBrH,UAAYzC,EAAU0C,KAG3D,IAAIsH,EAAaH,EACbI,EAAaH,EAEjB,OAAQxF,GACN,KAAKtE,EAAU8E,GACbkF,EACEhI,EAAUI,KAAKF,IAAM,EAAI,EAAIa,EAAW,EAAIf,EAAUI,KAAKF,IAAM,EACnE,MAEF,KAAKlC,EAAU+E,KACbiF,EACEhI,EAAUI,KAAKF,IAAM,GAAKa,EAAW,EAAIf,EAAUI,KAAKF,IAAM,EAChE,MAEF,KAAKlC,EAAU4E,MACbqF,EACEjI,EAAUI,KAAKD,IAAM,GAAKY,EAAW,EAAIf,EAAUI,KAAKD,IAAM,EAChE,MAEF,KAAKnC,EAAU6E,KACboF,EACEjI,EAAUI,KAAKD,IAAM,EAAI,EAAIY,EAAW,EAAIf,EAAUI,KAAKD,IAAM,EACnE,MAEF,QAGE,OAFAW,EAAKkH,GAAYC,GAAY1H,KAAOtC,EAAK4F,eACzCqD,IAQJ,OAJAU,EAAKxH,KAAKF,IAAM8H,EAChBJ,EAAKxH,KAAKD,IAAM8H,EAGRnH,EAAKkH,GAAYC,GAAY1H,MACnC,KAAKtC,EAAK6F,KACV,KAAK7F,EAAKuC,OACRM,EAAKkH,GAAYC,GAAY1H,KAAOtC,EAAK2F,KACzC,MAEF,KAAK3F,EAAKmF,WACV,KAAKnF,EAAKC,KACR,IAAMgK,EAAWxC,EAAQyC,oBAAoBlF,cACvCmF,EAAStH,EAAKkH,GAAYC,GAAY3J,OAG5C,GAAI8J,IAAWF,EAGb,OAFApH,EAAKkH,GAAYC,GAAY1H,KAAOtC,EAAK8F,eACzCmD,IAIFpG,EAAKkH,GAAYC,GAAY1H,KAAOtC,EAAK+F,YAEzCgC,EACEN,EAAQvC,iBAAmB,EAAI6C,EAAgBoC,EAASA,EAC1D1C,EAAQ2C,uBAGR,IAAMzH,EAAc8E,EAAQvC,iBACR,IAAhBvC,GACF8E,EAAQtD,yBAhGO,WACrB,IAAMkG,EAAU,IAAIC,KACdC,EAAU7I,KAAK+C,KAClB4F,EAAQG,UAAYxB,EAAUO,QAAQiB,WAAa,KAEhDC,EAAQ/I,KAAKC,MAAM,IAAM4I,GAC/BzD,GApHkB,GAqHlBA,GAAS2D,GAAS,EAAIA,EAAQ,EAE9BzB,EAAUO,QAAU,IAAIe,KAyFlBI,GACAC,IAvFc,WACpB,GAAI9B,EAAoB,CACtB,IAAMzF,EAAOC,SAASC,cAA2B,SAC7CwD,GAAS,IAAMA,GAAS,IAAsB,MAAhBG,GAChC7D,EAAKoG,MAAMC,YAAY,SAAU,QACjCxC,EAAc,KACLH,EAAQ,IAAsB,MAAhBG,IACvB7D,EAAKoG,MAAMC,YAAY,SAAU,QACjCxC,EAAc,MAgFZ2D,IACSjI,GAAe8E,EAAQoD,mBAChCF,IAEF,MAEF,QAGE,OAFA9H,EAAKkH,GAAYC,GAAY1H,KAAOtC,EAAK4F,eACzCqD,IAIJpG,EAAKkH,GAAYC,GAAYxH,UAAY6B,GAiBrCyG,EAAmB,SAACnB,GAExB,IAhBmB,SAACA,GACpB,IAAMC,EAAiB7H,EAAUI,KAAKF,IAChC4H,EAAiB9H,EAAUI,KAAKD,IAEtC,OAAQW,EAAK+G,GAAgBC,GAAgBvH,MAC3C,KAAKtC,EAAKC,KACV,KAAKD,EAAKmF,WACV,KAAKnF,EAAK+F,YACR,OAAO,EAGX,OAAO,EAKHgF,GAAJ,CAKA,IAAMC,EAAiBjJ,EAAUC,KAAKC,IAChCgJ,EAAiBlJ,EAAUC,KAAKE,IAChCgJ,EAAWrI,EAAKmI,GAAgBC,GAAgBvI,MAEhDyI,EACJD,IAAanL,EAAU0C,KACnByI,EACAzD,EAAQ2D,0BAEdvI,EAAKmI,GAAgBC,GAAgB3I,KAAOtC,EAAKuC,OACjDM,EAAKmI,GAAgBC,GAAgBzI,UAAYzC,EAAU0C,KAEvDyI,IAAanL,EAAU0C,OACzBI,EAAKmI,GAAgBC,GAAgBvI,MAAQ3C,EAAU0C,MAEzD,IAAI4I,EAAaL,EACbM,EAAaL,EAGjB,OAAQE,GACN,KAAKpL,EAAU8E,GACbwG,EACEtJ,EAAUC,KAAKC,IAAM,EAAI,EAAIa,EAAW,EAAIf,EAAUC,KAAKC,IAAM,EACnE,MAEF,KAAKlC,EAAU+E,KACbuG,EACEtJ,EAAUC,KAAKC,IAAM,GAAKa,EAAW,EAAIf,EAAUC,KAAKC,IAAM,EAChE,MAEF,KAAKlC,EAAU4E,MACb2G,EACEvJ,EAAUC,KAAKE,IAAM,GAAKY,EAAW,EAAIf,EAAUC,KAAKE,IAAM,EAChE,MAEF,KAAKnC,EAAU6E,KACb0G,EACEvJ,EAAUC,KAAKE,IAAM,EAAI,EAAIY,EAAW,EAAIf,EAAUC,KAAKE,IAAM,EACnE,MAEF,QAIE,OAFAwD,MADc,gCAEduD,IAKJU,EAAK3H,KAAKC,IAAMoJ,EAChB1B,EAAK3H,KAAKE,IAAMoJ,EAChBzI,EAAKwI,GAAYC,GAAYhJ,KAAOtC,EAAK6F,KACzChD,EAAKwI,GAAYC,GAAY9I,UAAY2I,KChUlB,SAACI,EAAsBC,GAC9C,IAAMC,EAAgB1C,iBAAOwC,GAG7BG,2BAAgB,WACdD,EAAclC,QAAUgC,IACvB,CAACA,IAGJI,qBAAU,WAER,GAAKH,EAAL,CAIA,IAAMhF,EAAKoF,aAAY,kBAAMH,EAAclC,YAAWiC,GAEtD,OAAO,kBAAMK,cAAcrF,OAC1B,CAACgF,IDkUNM,EAVe,WACb,IAAInC,EAAI,eAAQ5H,GAEVgK,EATW,SAACpC,GAGlB,OAFAmB,EAAiBnB,GACjBD,EAAiBC,GACVA,EAMSqC,CAAWrC,GAC3BvH,EAAa2J,GAEbtE,EAAQW,WAAWhG,aAAauH,GAChClB,GAAc,IAMdJ,EAAUpB,EAAc,MAG1B,IAAM0D,EAAiBsB,uBAAY,WACjC3C,aAAaR,EAAeS,SAC5B9B,EAAQyE,YACR,IAAMvJ,EAAc8E,EAAQvC,iBACxB0D,GAAWjG,EAAc8E,EAAQoD,oBACnC/B,EAAeS,QAAUJ,WAAWgD,EArUpB,SAuUjB,CAACvD,IAEJ+C,qBAAU,WACW,KAAf1D,IACFqB,aAAaR,EAAeS,SAC5BjB,GAAW,IAERM,GACH+B,MAED,CAAC1C,EAAYW,EAAS+B,IAEzB,IAAMwB,EAAc,WAClB1E,EAAQ2E,WAGJC,EAAwBJ,uBAAY,WACxC,GAAmB,KAAfhE,EAAJ,CAMA,IAAKI,EAAS,CACZ,IAAM8C,EAAiB1D,EAAQ2D,0BACR3D,EAAQqC,4BAGV/J,EAAU0C,MAC7B0I,IAAmBpL,EAAU0C,OAE7BgF,EAAQ6E,wBAAwBvM,EAAU4E,OAC1C8C,EAAQ8E,wBAAwBxM,EAAU4E,QAEvCqE,EAAUO,UAASP,EAAUO,QAAU,IAAIe,MAChDK,IAEFrC,GAAW,SAACD,GAAD,OAAcA,UAlBvBC,GAAW,KAmBZ,CAACD,EAASJ,EAAY0C,IAUnB6B,GARgBP,uBAAY,WAChCzD,GAAS,SAACD,GAAD,OAAYA,OACpB,IAMckE,uBAAa,CAC5BC,aAhWmB,WACnB,IAAIjE,EAEJ,GAAKJ,EAAL,CAKA,IAAMhE,EAAiBoD,EAAQqC,0BAC3BzF,IAAmBtE,EAAU6E,MAAQP,IAAmBtE,EAAU4E,QAEtE8C,EAAQ8E,wBAAwBxM,EAAU6E,MAC1C6C,EAAQkF,+BAA+B5M,EAAU6E,MACjD6D,GAAc,QATZ4D,KA6VFO,cAjVoB,WACpB,IAAInE,EACJ,GAAKJ,EAAL,CAIA,IAAMhE,EAAiBoD,EAAQqC,0BAC3BzF,IAAmBtE,EAAU6E,MAAQP,IAAmBtE,EAAU4E,QAEtE8C,EAAQ8E,wBAAwBxM,EAAU4E,OAC1C8C,EAAQkF,+BAA+B5M,EAAU4E,OACjD8D,GAAc,QARZ4D,KA+UFQ,aAtTmB,WACnB,IAAIpE,EACJ,GAAKJ,EAAL,CAIA,IAAMhE,EAAiBoD,EAAQqC,0BAE3BzF,IAAmBtE,EAAU+E,MAAQT,IAAmBtE,EAAU8E,KAEtE4C,EAAQ8E,wBAAwBxM,EAAU+E,MAC1C2C,EAAQkF,+BAA+B5M,EAAU+E,MACjD2D,GAAc,QATZ4D,KAoTFS,WArUiB,WACjB,IAAIrE,EACJ,GAAKJ,EAAL,CAIA,IAAMhE,EAAiBoD,EAAQqC,0BAC3BzF,IAAmBtE,EAAU+E,MAAQT,IAAmBtE,EAAU8E,KAEtE4C,EAAQ8E,wBAAwBxM,EAAU8E,IAC1C4C,EAAQkF,+BAA+B5M,EAAU8E,IACjD4D,GAAc,QARZ4D,KAsUFU,8BAA8B,EAC9BC,YAAY,KAGd,OACE,+CAASR,GAAT,IAAmBlM,UAAW,OAA9B,SACE,sBAAKA,UAAW,gBAAhB,UACGiI,EACC,cAAC,EAAD,CAAW1F,KAAMA,IAEjB,cAAC,EAAD,CACEA,KAAMA,EACNwC,qBAAsBoC,EAAQqC,0BAC9BxE,qBAAsBmC,EAAQ2D,0BAC9B7F,iBAAkBkC,EAAQwF,mCAG9B,cAACpG,EAAD,CAAW7D,MAAO+E,EAAejB,MAAOA,WEtanCoG,G,MAA8ChN,IAAMC,MAC/D,SAACC,GACC,OAAO,qBAAKE,UAAU,QAAf,SAAwBF,EAAM+M,Y,qECMnC/J,EAAOC,SAASC,cAAc,SAC9BC,EAAYC,iBAAiBJ,GAQtBgK,EAA2C,SAAChN,GACvD,IAAMiN,EAAaC,YAAY,CAC7BC,QAAS,CACPC,QAAS,CACPC,KAAMlK,EAAUG,iBAAiB,eAAegK,WAKtD,OACE,cAACC,EAAA,EAAD,CAAeC,MAAOP,EAAtB,SACE,sBAAK/M,UAAW,SAAhB,UACE,sBAAKA,UAAW,WAAhB,UACE,cAACuN,EAAA,EAAD,CAAY,aAAW,OAAOC,MAAM,UAAUC,KAAK,QAAnD,SACE,cAACC,EAAA,EAAD,MAEF,cAACH,EAAA,EAAD,CACE,aAAW,cACXC,MAAM,UACNC,KAAK,QACLE,QAAS7N,EAAM8N,oBAJjB,SAME,cAACC,EAAA,EAAD,SAGJ,cAACjB,EAAD,CAAOC,MAAO,gBACd,sBAAK7M,UAAW,YAAhB,UACE,cAACuN,EAAA,EAAD,CACE,aAAW,QACXC,MAAM,UACNC,KAAK,QACLE,QAAS7N,EAAMgO,kBAJjB,SAME,cAACC,EAAA,EAAD,MAEF,cAACR,EAAA,EAAD,CACE,aAAW,WACXC,MAAM,UACNC,KAAK,QACLE,QAAS7N,EAAMkO,gBAJjB,SAME,cAACC,EAAA,EAAD,eCxDCC,G,YAAqDtO,IAAMC,MACtE,SAACC,GACC,IAAQ6N,EAAmB7N,EAAnB6N,QAASd,EAAU/M,EAAV+M,MACjB,OACE,sBAAK7M,UAAW,cAAhB,UACE,qBAAKA,UAAW,iBAAhB,SACE,cAAC4M,EAAD,CAAOC,MAAOA,MAEhB,wBAAQ7M,UAAW,QAAS2N,QAASA,EAArC,SACG,aCPEQ,EAAiDvO,IAAMC,MAClE,SAACC,GACC,IAAQsO,EAA6BtO,EAA7BsO,QAASvB,EAAoB/M,EAApB+M,MAAOwB,EAAavO,EAAbuO,SACxB,EAAkCxG,mBAAS,UAA3C,mBAAO7H,EAAP,KAAkBsO,EAAlB,KACA,EAAoDzG,mBAClD,2BADF,mBAAO0G,EAAP,KAA2BC,EAA3B,KAeA,OAXAnD,qBAAU,WACM,KAAVwB,GACFyB,EAAa,kBAGbE,EADEH,EACoB,0BAEA,iCAEvB,CAACxB,EAAOwB,IAEJvO,EAAM2O,SACX,qBAAKzO,UAAWA,EAAhB,SACE,sBAAKA,UAAWuO,EAAhB,UACE,cAACL,EAAD,CAAaP,QAASS,EAASvB,MAAOA,IACrC/M,EAAM2O,cAGT,QCpCO,MAA0B,uCCG5BC,G,MACX,qCACE,gFACA,wFACA,0JAIA,qGAEA,qFAEA,qBAAKC,IAAKC,EAAYC,IAAK,wB,2BCTzBC,GAAa,CAAEC,WAAY,CAAE,aAAc,UAC3CC,GAAiB,CAAED,WAAY,CAAE,aAAc,cAG/CjM,GAAOC,SAASC,cAA2B,SAC3CC,GAAYC,iBAAiBJ,IAE7BmM,GAAkBhM,GAAUG,iBAAiB,eAC7C8L,GAAmBjM,GAAUG,iBAAiB,gBAE9C+L,GAAcC,aAAOC,KAAPD,EAAe,cAAG9B,MAAH,MAAgB,CACjD,sCAAuC,CACrCE,MAAOyB,GAAgB7B,QAEzB,yDAA0D,CACxDkC,gBAAiBL,GAAgB7B,QAEnC,qBAAsB,CACpBkC,gBAAiBJ,GAAiB9B,YAIzBmC,GAAoC,WAC/C,IAAMC,EAAWnP,aAAaC,QAAQ,YAChC8H,EAAQ/H,aAAaC,QAAQ,SAC7B+H,EAAmBhI,aAAaC,QAAQ,oBAE9C,EAAwCuH,oBACtCO,GAAQ5H,KAAKC,MAAM2H,IADrB,mBAAOqH,EAAP,KAAqBC,EAArB,KAGA,EAA8C7H,oBAC5C2H,GAAWhP,KAAKC,MAAM+O,IADxB,mBAAOG,EAAP,KAAwBC,EAAxB,KAGA,EAA8D/H,oBAC5DQ,GAAmB7H,KAAKC,MAAM4H,IADhC,mBAAOwH,EAAP,KAAgCC,EAAhC,KAIAzE,qBAAU,WACJsE,GACF7M,GAAKoG,MAAMC,YACT,sBACAlG,GAAUG,iBAAiB,sBAAsBgK,QAEnDtK,GAAKoG,MAAMC,YACT,uBACAlG,GAAUG,iBAAiB,oBAAoBgK,QAEjDtK,GAAKoG,MAAMC,YACT,cACAlG,GAAUG,iBAAiB,cAAcgK,QAE3CtK,GAAKoG,MAAMC,YACT,uBACAlG,GAAUG,iBAAiB,aAAagK,UAG1CtK,GAAKoG,MAAMC,YACT,sBACAlG,GAAUG,iBAAiB,uBAAuBgK,QAEpDtK,GAAKoG,MAAMC,YACT,uBACAlG,GAAUG,iBAAiB,qBAAqBgK,QAElDtK,GAAKoG,MAAMC,YACT,cACAlG,GAAUG,iBAAiB,eAAegK,QAE5CtK,GAAKoG,MAAMC,YACT,uBACAlG,GAAUG,iBAAiB,cAAcgK,WAG5C,CAACuC,IAqCJ,OACE,sBAAK3P,UAAU,oBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,yBAAf,SACE,qBAAKA,UAAU,WAAf,SAA2B,YAE7B,cAACmP,GAAD,2BACML,IADN,IAEEiB,QAASN,EACTO,SA3CmB,SAACC,GAC1B,IACE5P,aAAaM,QAAQ,QAASH,KAAKI,UAAUqP,EAAMC,OAAOH,UAC1D,MAAOI,GACPpP,QAAQC,IAAI,gCAAiCmP,GAE/CT,EAAgBO,EAAMC,OAAOH,gBAwC3B,sBAAK/P,UAAU,eAAf,UACE,qBAAKA,UAAU,yBAAf,SACE,qBAAKA,UAAU,WAAf,SAA2B,gBAE7B,cAACmP,GAAD,2BACMH,IADN,IAEEe,QAASJ,EACTK,SA5CsB,SAC5BC,GAEA,IACE5P,aAAaM,QAAQ,WAAYH,KAAKI,UAAUqP,EAAMC,OAAOH,UAC7D,MAAOI,GACPpP,QAAQC,IAAI,gCAAiCmP,GAE/CP,EAAmBK,EAAMC,OAAOH,gBAuC9B,sBAAK/P,UAAU,eAAf,UACE,qBAAKA,UAAU,yBAAf,SACE,qBAAKA,UAAU,WAAf,SAA2B,wBAE7B,cAACmP,GAAD,2BACMH,IADN,IAEEe,QAASF,EACTG,SA3C8B,SACpCC,GAEA,IACE5P,aAAaM,QACX,mBACAH,KAAKI,UAAUqP,EAAMC,OAAOH,UAE9B,MAAOI,GACPpP,QAAQC,IAAI,gCAAiCmP,GAE/CL,EAA2BG,EAAMC,OAAOH,oBCtGtCK,GAAW,CACfjO,KAAM,CAAE0K,MAAO,GAAI4B,SAAU,MAC7B4B,MAAO,CAAExD,MAAO,QAAS4B,SAAU,MACnC6B,aAAc,CAAEzD,MAAO,cAAe4B,SAAUC,GAChD6B,WAAY,CAAE1D,MAAO,aAAc4B,SCdnC,gCACE,gDACA,kDDaF+B,QAAS,CAAE3D,MAAO,WAAY4B,SAAU,cAAC,GAAD,MAGpCgC,GEnB4B,WAChC,IAAM3N,EAAOC,SAASC,cAA2B,SAC3CC,EAAYC,iBAAiBJ,GAE7B0M,EAAWnP,aAAaC,QAAQ,aACdkP,GAAWhP,KAAKC,MAAM+O,IAG5C1M,EAAKoG,MAAMC,YACT,sBACAlG,EAAUG,iBAAiB,sBAAsBgK,QAEnDtK,EAAKoG,MAAMC,YACT,uBACAlG,EAAUG,iBAAiB,oBAAoBgK,QAEjDtK,EAAKoG,MAAMC,YACT,cACAlG,EAAUG,iBAAiB,cAAcgK,QAE3CtK,EAAKoG,MAAMC,YACT,uBACAlG,EAAUG,iBAAiB,aAAagK,UAG1CtK,EAAKoG,MAAMC,YACT,sBACAlG,EAAUG,iBAAiB,uBAAuBgK,QAEpDtK,EAAKoG,MAAMC,YACT,uBACAlG,EAAUG,iBAAiB,qBAAqBgK,QAElDtK,EAAKoG,MAAMC,YACT,cACAlG,EAAUG,iBAAiB,eAAegK,QAE5CtK,EAAKoG,MAAMC,YACT,uBACAlG,EAAUG,iBAAiB,cAAcgK,SAI7C,IAAMsD,EAAUrQ,aAAaC,QAAQ,WAC/BmQ,GAAwBC,GAAUlQ,KAAKC,MAAMiQ,GAInD,OAHID,GACFpQ,aAAaM,QAAQ,UAAWH,KAAKI,WAAW6P,IAE3CA,EF7BYE,GAERC,GAA+B,WAC1C,MAAkC/I,mBAG/B4I,GAAeL,GAASE,aAAeF,GAASjO,MAHnD,mBAAO0O,EAAP,KAAkBC,EAAlB,KAWMhD,EAAoB,WACxBgD,EAAaV,GAASG,aAOlBlC,EACJwC,EAAUhE,QAAUuD,GAASE,aAAazD,OAC1CgE,EAAUhE,QAAUuD,GAASG,WAAW1D,MAE1C,OACE,sBAAK7M,UAAW,eAAhB,UACE,cAAC,EAAD,CACE4N,oBArBsB,WAC1BkD,EAAaV,GAASE,eAqBlBtC,gBAnBkB,WACtB8C,EAAaV,GAASI,UAmBlB1C,kBAAmBA,IAErB,cAACK,EAAD,CACEC,QAhBe,WACnB0C,EAAaV,GAASjO,OAgBlB0K,MAAOgE,EAAUhE,MACjBwB,SAAUA,EAHZ,SAKGwC,EAAUpC,WAEb,cAAC,EAAD,CACE9G,WAAYkJ,EAAUhE,MACtBjF,UAAWkG,QGxDnBiD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFlO,SAASmO,eAAe,W","file":"static/js/main.2988d2bb.chunk.js","sourcesContent":["import { Bytes } from \"./bytes\";\nimport { Snake } from \"./snake\";\n\nexport enum Direction {\n  None,\n  Up,\n  Down,\n  Right,\n  Left,\n}\n\nexport enum Role {\n  Canvas,\n  Body,\n  WrongBody,\n  Head,\n  Tail,\n  Byte,\n  HintedByte,\n  WrongByte,\n  CorrectByte,\n  FirstHead,\n  FirstTail,\n}\n\nexport interface IGridItem {\n  role: Role;\n  direction: Direction;\n  pivot: Direction;\n  letter: string;\n  letterIndex: number;\n}\n\nexport interface IHintItem {\n  row: number;\n  column: number;\n}\n\nclass GridItem implements IGridItem {\n  role = Role.Canvas;\n  direction = Direction.None;\n  pivot = Direction.None;\n  letter = \"\";\n  letterIndex = -1;\n}\n\nexport class Grid {\n  private grid: GridItem[][];\n  private gridSize: number;\n  private snake: Snake; // Grid contains a Snake\n\n  private bytes: Bytes; // Grid contains Bytes\n  private currentBytes: string = \"snake\";\n  private letterIndex: number = 0;\n  private hintsPerWord: number = 2;\n  private hintList: IHintItem[];\n\n  public constructor() {\n    const root = document.querySelector(\":root\")!;\n    const rootStyle = getComputedStyle(root);\n    this.gridSize = parseInt(rootStyle.getPropertyValue(\"--gridSize\"));\n    this.bytes = new Bytes();\n\n    this.grid = new Array(this.gridSize);\n    for (let i = 0; i < this.gridSize; i++) {\n      this.grid[i] = new Array(this.gridSize);\n    }\n\n    for (let i = 0; i < this.gridSize; i++) {\n      for (let j = 0; j < this.gridSize; j++) {\n        this.grid[i][j] = new GridItem();\n      }\n    }\n\n    this.snake = new Snake();\n    this.hintList = new Array(this.hintsPerWord);\n  }\n\n  public getGrid(): GridItem[][] {\n    return this.grid;\n  }\n\n  public resetGrid() {\n    for (let i = 0; i < this.gridSize; i++) {\n      for (let j = 0; j < this.gridSize; j++) {\n        this.grid[i][j].role = Role.Canvas;\n        this.grid[i][j].direction = Direction.None;\n        this.grid[i][j].pivot = Direction.None;\n        this.grid[i][j].letter = \"\";\n        this.grid[i][j].letterIndex = -1;\n      }\n    }\n    this.letterIndex = 0;\n  }\n\n  public getGridSize(): number {\n    return this.gridSize;\n  }\n\n  public getSnake(): Snake {\n    return this.snake;\n  }\n\n  public getCurrentHeadDirection(): Direction {\n    const { head } = this.snake.getSnakeEnds();\n    return this.grid[head.row][head.col].direction;\n  }\n\n  public getCurrentTailDirection(): Direction {\n    const { tail } = this.snake.getSnakeEnds();\n    return this.grid[tail.row][tail.col].direction;\n  }\n\n  public setCurrentHeadDirection(direction: Direction) {\n    const { head } = this.snake.getSnakeEnds();\n    this.grid[head.row][head.col].direction = direction;\n  }\n\n  public getPivotDirectionOnCurrentTail() {\n    const { tail } = this.snake.getSnakeEnds();\n    return this.grid[tail.row][tail.col].pivot;\n  }\n\n  public setCurrentTailDirection(direction: Direction) {\n    const { tail } = this.snake.getSnakeEnds();\n    this.grid[tail.row][tail.col].direction = direction;\n  }\n\n  setPivotOnCurrentHeadDirection(pivot: Direction) {\n    const { head } = this.snake.getSnakeEnds();\n    this.grid[head.row][head.col].pivot = pivot;\n  }\n\n  public initGridData() {\n    const { tail, head } = this.snake.getSnakeEnds();\n\n    this.grid[tail.row][tail.col].direction = Direction.None;\n    this.grid[head.row][head.col].direction = Direction.None;\n\n    this.grid[tail.row][tail.col].role = Role.FirstTail;\n    this.grid[head.row][head.col].role = Role.FirstHead;\n\n    if (tail.row === head.row) {\n      // horizontal snake\n      for (let i = tail.col + 1; i < head.col; i++) {\n        this.grid[tail.row][i].role = Role.Body;\n        this.grid[head.row][i].role = Role.Body;\n      }\n    } else if (tail.col === head.col) {\n      // vertical snake\n      for (let i = tail.row + 1; i < head.row; i++) {\n        this.grid[i][tail.col].role = Role.Body;\n        this.grid[i][tail.col].role = Role.Body;\n      }\n    } else {\n      throw new Error(\"Snake init invalid\");\n    }\n    this.setRandomBytePositions();\n  }\n\n  // sprinkles the next word on the grid\n  public setRandomBytePositions() {\n    this.currentBytes = this.bytes.getNextWord();\n    const { head } = this.snake.getSnakeEnds();\n    const currentHeadDir = this.grid[head.row][head.col].direction;\n    const delta = 3;\n\n    for (let i = 0; i < this.currentBytes.length; i++) {\n      do {\n        let randomRow = Math.floor(Math.random() * this.gridSize);\n        let randomCol = Math.floor(Math.random() * this.gridSize);\n\n        if (this.grid[randomRow][randomCol].role === Role.Canvas) {\n          let horizontalDistance = Math.abs(randomCol - head.col);\n          let verticalDistance = Math.abs(randomRow - head.row);\n\n          switch (currentHeadDir) {\n            case Direction.Right:\n            case Direction.Left:\n              if (horizontalDistance <= delta) {\n                console.log(\"too close to head, horz\");\n                continue;\n              }\n              break;\n\n            case Direction.Up:\n            case Direction.Down:\n              if (verticalDistance <= delta) {\n                console.log(\"too close to head, vertical\");\n                continue;\n              }\n          }\n\n          this.grid[randomRow][randomCol].role = Role.Byte;\n          this.grid[randomRow][randomCol].letter = this.currentBytes\n            .charAt(i)\n            .toUpperCase();\n          this.grid[randomRow][randomCol].letterIndex = i;\n\n          if (i < this.hintsPerWord)\n            this.hintList[i] = { row: randomRow, column: randomCol };\n\n          break;\n        } else {\n          console.log(\"Invalid random position\");\n        }\n      } while (1);\n    }\n  }\n\n  public getLetterIndex(): number {\n    return this.letterIndex;\n  }\n\n  public incrementLetterIndex() {\n    // increment index in a circular manner 0-4 and back to 0\n    this.letterIndex = (this.letterIndex + 1) % this.currentBytes.length;\n  }\n\n  public getExpectedLetter(): string {\n    const expected = this.currentBytes.charAt(this.letterIndex);\n    return expected;\n  }\n\n  public getCurrentBytes(): string {\n    return this.currentBytes;\n  }\n\n  // set the role of hinted byte on the lowest index\n  public setHint(): void {\n    const index = this.getLetterIndex();\n    if (index < this.hintsPerWord) {\n      this.grid[this.hintList[index].row][this.hintList[index].column].role =\n        Role.HintedByte;\n    }\n  }\n\n  public resetHint(): void {\n    for (let i = 0; i < this.hintsPerWord; i++) {\n      if (\n        this.grid[this.hintList[i].row][this.hintList[i].column].role ===\n        Role.HintedByte\n      )\n        this.grid[this.hintList[i].row][this.hintList[i].column].role =\n          Role.Byte;\n    }\n  }\n\n  public getHintsPerWord(): number {\n    return this.hintsPerWord;\n  }\n} // end of grid\n","import React from \"react\";\nimport \"./style/byte.css\";\n\ninterface IByteProps {\n  letter: string;\n}\nexport const Byte: React.FunctionComponent<IByteProps> = React.memo((props) => {\n  const { letter } = props;\n  return <div className=\"byteLetter\">{letter}</div>;\n});\n","export const byteList: string[] = [\n  \"about\",\n  \"above\",\n  \"actor\",\n  \"acute\",\n  \"admit\",\n  \"adopt\",\n  \"adult\",\n  \"after\",\n  \"again\",\n  \"agent\",\n  \"ahead\",\n  \"album\",\n  \"alive\",\n  \"allow\",\n  \"apart\",\n  \"apple\",\n  \"arena\",\n  \"array\",\n  \"audio\",\n  \"audit\",\n  \"avoid\",\n  \"award\",\n  \"aware\",\n  \"bases\",\n  \"basic\",\n  \"beach\",\n  \"begun\",\n  \"bench\",\n  \"birth\",\n  \"black\",\n  \"blind\",\n  \"block\",\n  \"booth\",\n  \"bound\",\n  \"brand\",\n  \"breed\",\n  \"bring\",\n  \"brown\",\n  \"build\",\n  \"built\",\n  \"buyer\",\n  \"cable\",\n  \"carry\",\n  \"catch\",\n  \"chair\",\n  \"chart\",\n  \"check\",\n  \"child\",\n  \"civil\",\n  \"claim\",\n  \"class\",\n  \"clear\",\n  \"click\",\n  \"clock\",\n  \"coach\",\n  \"count\",\n  \"court\",\n  \"cover\",\n  \"craft\",\n  \"cross\",\n  \"crowd\",\n  \"crown\",\n  \"curve\",\n  \"daily\",\n  \"dated\",\n  \"delay\",\n  \"depth\",\n  \"doubt\",\n  \"draft\",\n  \"drawn\",\n  \"dress\",\n  \"drill\",\n  \"drink\",\n  \"eight\",\n  \"elite\",\n  \"empty\",\n  \"enemy\",\n  \"enjoy\",\n  \"entry\",\n  \"error\",\n  \"event\",\n  \"exact\",\n  \"extra\",\n  \"faith\",\n  \"fault\",\n  \"fight\",\n  \"final\",\n  \"fixed\",\n  \"flash\",\n  \"fleet\",\n  \"floor\",\n  \"fluid\",\n  \"focus\",\n  \"force\",\n  \"forum\",\n  \"frame\",\n  \"frank\",\n  \"fraud\",\n  \"fresh\",\n  \"front\",\n  \"fruit\",\n  \"fully\",\n  \"funny\",\n  \"given\",\n  \"going\",\n  \"grace\",\n  \"grand\",\n  \"grant\",\n  \"grass\",\n  \"gross\",\n  \"group\",\n  \"guard\",\n  \"guess\",\n  \"guide\",\n  \"happy\",\n  \"heavy\",\n  \"hence\",\n  \"house\",\n  \"human\",\n  \"image\",\n  \"input\",\n  \"issue\",\n  \"joint\",\n  \"judge\",\n  \"known\",\n  \"label\",\n  \"laugh\",\n  \"leave\",\n  \"legal\",\n  \"level\",\n  \"light\",\n  \"limit\",\n  \"local\",\n  \"logic\",\n  \"loose\",\n  \"lucky\",\n  \"lunch\",\n  \"lying\",\n  \"magic\",\n  \"major\",\n  \"maker\",\n  \"match\",\n  \"metal\",\n  \"might\",\n  \"minor\",\n  \"mixed\",\n  \"model\",\n  \"money\",\n  \"month\",\n  \"motor\",\n  \"mouth\",\n  \"movie\",\n  \"music\",\n  \"newly\",\n  \"novel\",\n  \"occur\",\n  \"often\",\n  \"paper\",\n  \"party\",\n  \"peace\",\n  \"phone\",\n  \"photo\",\n  \"piece\",\n  \"pilot\",\n  \"pitch\",\n  \"place\",\n  \"plain\",\n  \"plant\",\n  \"pound\",\n  \"power\",\n  \"press\",\n  \"price\",\n  \"prime\",\n  \"print\",\n  \"prior\",\n  \"prize\",\n  \"proof\",\n  \"proud\",\n  \"queen\",\n  \"quick\",\n  \"rapid\",\n  \"ratio\",\n  \"reach\",\n  \"river\",\n  \"robin\",\n  \"rough\",\n  \"round\",\n  \"royal\",\n  \"rural\",\n  \"shell\",\n  \"shift\",\n  \"shirt\",\n  \"shown\",\n  \"sight\",\n  \"since\",\n  \"sized\",\n  \"sorry\",\n  \"spend\",\n  \"spent\",\n  \"stand\",\n  \"stock\",\n  \"stuff\",\n  \"style\",\n  \"taken\",\n  \"taxes\",\n  \"teeth\",\n  \"thank\",\n  \"theft\",\n  \"their\",\n  \"theme\",\n  \"thick\",\n  \"think\",\n  \"third\",\n  \"threw\",\n  \"tight\",\n  \"title\",\n  \"total\",\n  \"track\",\n  \"train\",\n  \"trend\",\n  \"truck\",\n  \"truly\",\n  \"truth\",\n  \"twice\",\n  \"undue\",\n  \"union\",\n  \"unity\",\n  \"upper\",\n  \"valid\",\n  \"value\",\n  \"video\",\n  \"virus\",\n  \"visit\",\n  \"vital\",\n  \"voice\",\n  \"watch\",\n  \"water\",\n  \"wheel\",\n  \"which\",\n  \"while\",\n  \"whole\",\n  \"woman\",\n  \"women\",\n  \"world\",\n  \"worry\",\n  \"would\",\n  \"wound\",\n  \"write\",\n  \"young\",\n  \"youth\",\n];\n","import { byteList } from \"./byteList\";\n\nexport class Bytes {\n  private byteList: string[] = [];\n  private index: number = 0;\n\n  public shuffle(array: string[]) {\n    console.log(\"this should be called only once\");\n    let currentIndex = array.length;\n    let randomIndex;\n\n    // While there remain elements to shuffle.\n    while (currentIndex !== 0) {\n      // Pick a remaining element.\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--;\n\n      // And swap it with the current element.\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex],\n        array[currentIndex],\n      ];\n    }\n\n    return array;\n  }\n  public constructor() {\n    const storageByteList = localStorage.getItem(\"byteList\");\n    if (storageByteList) {\n      this.byteList = JSON.parse(storageByteList);\n    } else {\n      this.byteList = this.shuffle(byteList);\n      localStorage.setItem(\"byteList\", JSON.stringify(this.byteList));\n    }\n\n    const storageIndex = localStorage.getItem(\"byteIndex\");\n    if (storageIndex) {\n      this.index = JSON.parse(storageIndex);\n    } else {\n      this.index = 0;\n      localStorage.setItem(\"byteIndex\", JSON.stringify(this.index));\n    }\n  }\n\n  public getNextWord(): string {\n    const nextWord = this.byteList[this.index];\n    this.index = (this.index + 1) % this.byteList.length;\n    localStorage.setItem(\"byteIndex\", JSON.stringify(this.index));\n    return nextWord;\n  }\n}\n","// Snake metadata\n\nexport interface ISnakeEnds {\n  tail: { row: number; col: number };\n  head: { row: number; col: number };\n}\n\nexport class Snake {\n  private snakeEnds: ISnakeEnds = {\n    tail: { row: 5, col: 5 },\n    head: { row: 5, col: 10 },\n  };\n\n  public resetSnakeEnds() {\n    this.setSnakeEnds({\n      tail: { row: 5, col: 5 },\n      head: { row: 5, col: 10 },\n    });\n  }\n\n  public getSnakeEnds(): ISnakeEnds {\n    return this.snakeEnds;\n  }\n\n  public setSnakeEnds(snakeEnds: ISnakeEnds): void {\n    this.snakeEnds = snakeEnds;\n  }\n\n  public snakeAlive(): boolean {\n    // TBD check if the snake head is not collided with a body/tail\n    return true;\n  }\n\n  public snakeLength(): number {\n    // TBD - return the number of grid locations\n    return 4;\n  }\n}\n","import React from \"react\";\nimport { Byte } from \"./byte\";\nimport { Direction, Role } from \"./grid\";\nimport \"./style/box.css\";\n\ninterface IBoxProps {\n  id: number;\n  role: Role;\n  letter: string;\n  letterIndex?: number;\n  currentHeadDirection?: Direction;\n  currentTailDirection?: Direction;\n  currentTailPivot?: Direction;\n}\n\nexport const Box: React.FunctionComponent<IBoxProps> = React.memo((props) => {\n  const {\n    role,\n    letter,\n    letterIndex,\n    currentHeadDirection,\n    currentTailDirection,\n    currentTailPivot,\n  } = props;\n\n  const getClassNameFromDirection = (dir: Direction | undefined) => {\n    switch (dir) {\n      case Direction.Down:\n        return \"t2b\";\n      case Direction.Up:\n        return \"b2t\";\n      case Direction.Left:\n        return \"r2l\";\n      case Direction.Right:\n        return \"l2r\";\n      case Direction.None:\n        alert(\"this should never hit\");\n        return \"none\";\n      default:\n        throw new Error(\"invalid dir\");\n    }\n  };\n\n  const getClassName = (): string => {\n    switch (role) {\n      case Role.FirstTail:\n      case Role.Canvas:\n        return \"box\";\n      case Role.Head:\n        return `head_${getClassNameFromDirection(currentHeadDirection)}`;\n      case Role.FirstHead:\n        return \"head_none\";\n      case Role.Body:\n        return \"snake\";\n      case Role.WrongBody:\n        return \"wrongBody\";\n      case Role.Tail:\n        return `tail_${getClassNameFromDirection(\n          currentTailPivot !== Direction.None\n            ? currentTailPivot\n            : currentTailDirection\n        )}`;\n      case Role.Byte:\n        return \"byte\";\n      case Role.HintedByte:\n        return \"hintedByte\";\n      case Role.WrongByte:\n        return \"wrongByte\";\n      case Role.CorrectByte:\n        return \"correctByte\";\n      default:\n        throw new Error(\"invalid role\");\n    }\n  };\n\n  let className = getClassName();\n\n  if (className.startsWith(\"byte\")) {\n    className = `byte byte${\n      letterIndex !== undefined && letterIndex >= 0\n        ? letterIndex.toString()\n        : \"\"\n    }`;\n  }\n\n  return className.startsWith(\"byte\") ||\n    className === \"hintedByte\" ||\n    className === \"correctByte\" ||\n    className === \"wrongByte\" ? (\n    <div className={className}>\n      <Byte letter={letter} />\n    </div>\n  ) : (\n    <div className={className}></div>\n  );\n});\n","import React from \"react\";\nimport { Box } from \"./box\";\nimport { Direction, IGridItem, Role } from \"./grid\";\nimport \"./style/grid.css\";\n\ninterface IGridRendererProps {\n  grid: IGridItem[][];\n  currentHeadDirection: Direction;\n  currentTailDirection: Direction;\n  currentTailPivot: Direction;\n}\n\nexport const GridRenderer: React.FunctionComponent<IGridRendererProps> = (\n  props\n) => {\n  const { grid, currentHeadDirection, currentTailDirection, currentTailPivot } =\n    props;\n\n  return (\n    <div className={\"grid\"}>\n      {grid.flat().map((item, index) => (\n        <Box\n          role={item.role}\n          letter={item.letter}\n          id={index}\n          key={index}\n          letterIndex={\n            item.letter !== \"\" && item.letterIndex !== -1\n              ? item.letterIndex\n              : undefined\n          }\n          currentHeadDirection={\n            item.role === Role.Head ? currentHeadDirection : undefined\n          }\n          currentTailDirection={\n            item.role === Role.Tail ? currentTailDirection : undefined\n          }\n          currentTailPivot={\n            item.role === Role.Tail ? currentTailPivot : undefined\n          }\n        />\n      ))}\n    </div>\n  );\n};\n","import { IGridItem, Role, Direction } from \"../grid\";\nimport \"../style/debug/debugBox.css\";\n\nconst getStringRole = (role: Role): string => {\n  switch (role) {\n    case Role.Body:\n      return \"b \";\n    case Role.Head:\n      return \"h \";\n    case Role.Tail:\n      return \"t \";\n    case Role.Canvas:\n      return \"c \";\n    case Role.Byte:\n      return \"f \";\n    default:\n      throw new Error(\"invalid role\");\n  }\n};\n\nconst getStringDirection = (direction: Direction): string => {\n  switch (direction) {\n    case Direction.Down:\n      return \"d \";\n    case Direction.Up:\n      return \"u \";\n    case Direction.Left:\n      return \"l \";\n    case Direction.Right:\n      return \"r \";\n    case Direction.None:\n      return \"n \";\n    default:\n      throw new Error(\"invalid direction\");\n  }\n};\n\nexport const DebugBox: React.FunctionComponent<IGridItem> = (props) => {\n  const { role, direction, pivot } = props;\n  return (\n    <div className={\"debugBox\"}>\n      {role > 0 ? getStringRole(role) : null}\n      {direction > 0 ? getStringDirection(direction) : null}\n      {role > 0 ? getStringDirection(pivot).toUpperCase() : null}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { DebugBox } from \"./debugBox\";\nimport { IGridItem } from \"../grid\";\n\nimport \"../style/debug/debugGrid.css\";\n\ninterface IDebugGridProps {\n  grid: IGridItem[][];\n}\n\nexport const DebugGrid: React.FunctionComponent<IDebugGridProps> = (props) => {\n  const { grid } = props;\n  return (\n    <div className={\"debugGrid\"}>\n      {grid.flat().map((item, index) => (\n        <DebugBox\n          letterIndex={item.letterIndex}\n          key={index}\n          role={item.role}\n          letter={item.letter}\n          direction={item.direction}\n          pivot={item.pivot}\n        />\n      ))}\n    </div>\n  );\n};\n","import \"./style/wordTiles.css\";\nimport \"./style/tile.css\";\nimport React from \"react\";\ninterface IWordTileProps {\n  bytes: string;\n  score: number;\n}\nexport const WordTiles: React.FunctionComponent<IWordTileProps> = React.memo(\n  (props: IWordTileProps) => {\n    return (\n      <div className={\"wordTilesContainer\"}>\n        <div className=\"tileContainer\">\n          {[...props.bytes].map((letter, index) => (\n            <div key={index} className={\"tileLetter\"}>\n              {letter}\n            </div>\n          ))}\n        </div>\n        {props.score > 0 ? (\n          <div className=\"tileContainer\">\n            {[...props.score.toString()].map((digit, index) => (\n              <div key={index} className={\"tileNumber\"}>\n                {digit}\n              </div>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n);\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\n//import { Button } from \"./button\";\nimport { useInterval } from \"./useInterval\";\nimport { GridRenderer } from \"./gridRenderer\";\nimport { useSwipeable } from \"react-swipeable\";\nimport { Grid, Direction, Role } from \"./grid\";\nimport { DebugGrid } from \"./debug/debugGrid\";\nimport \"./style/gridContainer.css\";\nimport { WordTiles } from \"./wordtiles\";\n\n// move this to a useEffect\nconst root = document.querySelector(\":root\")!;\nconst rootStyle = getComputedStyle(root);\n\nconst tickCount = rootStyle.getPropertyValue(\"--tick\");\nlet tickCountMs = parseFloat(tickCount.substr(0, tickCount.length - 1)) * 1000;\n\nconst url: URL = new URL(window.location.href);\nconst urlSearchParams = new URLSearchParams(url.search);\nconst gridObj = new Grid();\ngridObj.initGridData();\n\nconst gridSize = gridObj.getGridSize();\nconst grid = gridObj.getGrid();\n\nconst pointsPerWord = 10;\nlet score = 0;\nlet currentLetter = \"\";\nconst hintTimeoutMs = 14 * 1000;\n\ninterface IGridContainer {\n  modalTitle: string;\n  onGameEnd: () => void;\n}\nexport const GridContainer: React.FunctionComponent<IGridContainer> = (\n  props\n) => {\n  const { modalTitle, onGameEnd } = props;\n  const [snakeEnds, setSnakeEnds] = useState(gridObj.getSnake().getSnakeEnds());\n  const [playing, setPlaying] = useState(false);\n  const [debug, setDebug] = useState(false);\n\n  let movePending = false;\n  const hints = localStorage.getItem(\"hints\");\n  const progressiveSpeed = localStorage.getItem(\"progressiveSpeed\");\n  const hintsOn = hints ? JSON.parse(hints) : \"true\";\n  const progressiveSpeedOn = progressiveSpeed\n    ? JSON.parse(progressiveSpeed)\n    : \"true\";\n  let hintsTimeOutId: any = useRef(null);\n  let startDate: any = useRef(null);\n  // add logic in these to detect game end\n  const onSwipedLeft = () => {\n    if (movePending) return;\n\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n    if (currentHeadDir === Direction.Left || currentHeadDir === Direction.Right)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Left);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Left);\n    movePending = true;\n  };\n\n  const onSwipedRight = () => {\n    if (movePending) return;\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n    if (currentHeadDir === Direction.Left || currentHeadDir === Direction.Right)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Right);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Right);\n    movePending = true;\n  };\n\n  const onSwipedUp = () => {\n    if (movePending) return;\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n    if (currentHeadDir === Direction.Down || currentHeadDir === Direction.Up)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Up);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Up);\n    movePending = true;\n  };\n\n  const onSwipedDown = () => {\n    if (movePending) return;\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n\n    if (currentHeadDir === Direction.Down || currentHeadDir === Direction.Up)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Down);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Down);\n    movePending = true;\n  };\n\n  const resetGameToStart = () => {\n    currentLetter = gridObj.getCurrentBytes().toUpperCase();\n    setPlaying(false);\n\n    // wait 4s, then show the stats dialog, then wait 500ms and clear the game state.\n    setTimeout(() => {\n      onGameEnd(); //this shows the stats\n      setTimeout(() => {\n        gridObj.getSnake().resetSnakeEnds();\n        gridObj.resetGrid();\n        gridObj.initGridData();\n        setSnakeEnds(gridObj.getSnake().getSnakeEnds());\n\n        clearTimeout(hintsTimeOutId);\n        startDate.current = null;\n        score = 0;\n        currentLetter = \"\";\n        tickCountMs = 500;\n        const root = document.querySelector<HTMLElement>(\":root\")!;\n        root.style.setProperty(\"--tick\", \"0.5s\");\n      }, 500);\n    }, 4000);\n  };\n\n  const calculateScore = () => {\n    const endDate = new Date();\n    const seconds = Math.abs(\n      (endDate.getTime() - startDate.current.getTime()) / 1000\n    );\n    const bonus = Math.floor(100 / seconds);\n    score += pointsPerWord;\n    score += bonus >= 2 ? bonus : 0; //min bonus of 2 is needed.\n    // refresh the new start date\n    startDate.current = new Date();\n  };\n\n  const increaseSpeed = () => {\n    if (progressiveSpeedOn) {\n      const root = document.querySelector<HTMLElement>(\":root\")!;\n      if (score >= 50 && score <= 80 && tickCountMs === 500) {\n        root.style.setProperty(\"--tick\", \"0.4s\");\n        tickCountMs = 400;\n      } else if (score > 80 && tickCountMs === 400) {\n        root.style.setProperty(\"--tick\", \"0.3s\");\n        tickCountMs = 300;\n      }\n    }\n  };\n\n  const calculateNewHead = (ends: typeof snakeEnds) => {\n    /* ========================= HEAD ==============================*/\n    const currentHeadRow = snakeEnds.head.row;\n    const currentHeadCol = snakeEnds.head.col;\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n\n    grid[currentHeadRow][currentHeadCol].role = Role.Body; // make current head -> snake body\n    grid[currentHeadRow][currentHeadCol].direction = Direction.None; // make current head's dir none\n\n    // now calculate the new position (row, col) for head based on the current head direction.\n    let newHeadRow = currentHeadRow;\n    let newHeadCol = currentHeadCol;\n\n    switch (currentHeadDir) {\n      case Direction.Up: {\n        newHeadRow =\n          snakeEnds.head.row - 1 < 0 ? gridSize - 1 : snakeEnds.head.row - 1;\n        break;\n      }\n      case Direction.Down: {\n        newHeadRow =\n          snakeEnds.head.row + 1 >= gridSize ? 0 : snakeEnds.head.row + 1;\n        break;\n      }\n      case Direction.Right: {\n        newHeadCol =\n          snakeEnds.head.col + 1 >= gridSize ? 0 : snakeEnds.head.col + 1;\n        break;\n      }\n      case Direction.Left: {\n        newHeadCol =\n          snakeEnds.head.col - 1 < 0 ? gridSize - 1 : snakeEnds.head.col - 1;\n        break;\n      }\n      default: {\n        grid[newHeadRow][newHeadCol].role = Role.WrongBody;\n        resetGameToStart();\n        return;\n      }\n    }\n    ends.head.row = newHeadRow;\n    ends.head.col = newHeadCol;\n\n    // check if new Head is a valid role\n    switch (grid[newHeadRow][newHeadCol].role) {\n      case Role.Tail:\n      case Role.Canvas: {\n        grid[newHeadRow][newHeadCol].role = Role.Head; // canvas -> head'\n        break;\n      }\n      case Role.HintedByte:\n      case Role.Byte: {\n        const expected = gridObj.getExpectedLetter().toUpperCase();\n        const landed = grid[newHeadRow][newHeadCol].letter;\n\n        // Landed on incorrect byte\n        if (landed !== expected) {\n          grid[newHeadRow][newHeadCol].role = Role.WrongByte;\n          resetGameToStart();\n          return;\n        }\n\n        grid[newHeadRow][newHeadCol].role = Role.CorrectByte;\n\n        currentLetter =\n          gridObj.getLetterIndex() > 0 ? currentLetter + landed : landed;\n        gridObj.incrementLetterIndex();\n\n        // new word\n        const letterIndex = gridObj.getLetterIndex();\n        if (letterIndex === 0) {\n          gridObj.setRandomBytePositions();\n\n          calculateScore();\n          resetHintTimer();\n          increaseSpeed();\n        } else if (letterIndex <= gridObj.getHintsPerWord()) {\n          resetHintTimer();\n        }\n        break;\n      }\n      default:\n        grid[newHeadRow][newHeadCol].role = Role.WrongBody;\n        resetGameToStart();\n        return;\n    }\n\n    grid[newHeadRow][newHeadCol].direction = currentHeadDir; // retain previous head's dir in the new head\n  };\n\n  const isHeadOnByte = (ends: typeof snakeEnds): boolean => {\n    const currentHeadRow = snakeEnds.head.row;\n    const currentHeadCol = snakeEnds.head.col;\n\n    switch (grid[currentHeadRow][currentHeadCol].role) {\n      case Role.Byte:\n      case Role.HintedByte:\n      case Role.CorrectByte:\n        return true;\n    }\n\n    return false;\n  };\n\n  const calculateNewTail = (ends: typeof snakeEnds) => {\n    // no-op if the head is on a byte\n    if (isHeadOnByte(snakeEnds)) {\n      return;\n    }\n\n    /* ========================= TAIL ==============================*/\n    const currentTailRow = snakeEnds.tail.row;\n    const currentTailCol = snakeEnds.tail.col;\n    const pivotDir = grid[currentTailRow][currentTailCol].pivot;\n    // override current tail direction if there is a pivot direction left behind by the head at some point.\n    const currentTailDir =\n      pivotDir !== Direction.None\n        ? pivotDir\n        : gridObj.getCurrentTailDirection();\n\n    grid[currentTailRow][currentTailCol].role = Role.Canvas; // tail -> canvas\n    grid[currentTailRow][currentTailCol].direction = Direction.None; // tail -> canvas dir\n\n    if (pivotDir !== Direction.None)\n      grid[currentTailRow][currentTailCol].pivot = Direction.None; // clear pivots as the tail arrives\n\n    let newTailRow = currentTailRow;\n    let newTailCol = currentTailCol;\n\n    // now calculate the new position (row, col) for tail based on the current tail direction.\n    switch (currentTailDir) {\n      case Direction.Up: {\n        newTailRow =\n          snakeEnds.tail.row - 1 < 0 ? gridSize - 1 : snakeEnds.tail.row - 1;\n        break;\n      }\n      case Direction.Down: {\n        newTailRow =\n          snakeEnds.tail.row + 1 >= gridSize ? 0 : snakeEnds.tail.row + 1;\n        break;\n      }\n      case Direction.Right: {\n        newTailCol =\n          snakeEnds.tail.col + 1 >= gridSize ? 0 : snakeEnds.tail.col + 1;\n        break;\n      }\n      case Direction.Left: {\n        newTailCol =\n          snakeEnds.tail.col - 1 < 0 ? gridSize - 1 : snakeEnds.tail.col - 1;\n        break;\n      }\n      default: {\n        const error = \"Invalid tail direction!\";\n        alert(error);\n        resetGameToStart();\n        return;\n      }\n    }\n\n    ends.tail.row = newTailRow;\n    ends.tail.col = newTailCol;\n    grid[newTailRow][newTailCol].role = Role.Tail; // body -> tail\n    grid[newTailRow][newTailCol].direction = currentTailDir;\n  };\n\n  // calcualte the new snake ends, and assign new roles as necessary\n  const getNewEnds = (ends: typeof snakeEnds) => {\n    calculateNewTail(ends);\n    calculateNewHead(ends);\n    return ends;\n  };\n\n  const onTick = () => {\n    let ends = { ...snakeEnds };\n    // set new roles on the new ends\n    const newEnds = getNewEnds(ends);\n    setSnakeEnds(newEnds);\n    // set new ends\n    gridObj.getSnake().setSnakeEnds(ends);\n    movePending = false;\n  };\n\n  useInterval(\n    onTick,\n    // Delay in milliseconds or null to stop it\n    playing ? tickCountMs : null\n  );\n\n  const resetHintTimer = useCallback(() => {\n    clearTimeout(hintsTimeOutId.current);\n    gridObj.resetHint();\n    const letterIndex = gridObj.getLetterIndex();\n    if (hintsOn && letterIndex < gridObj.getHintsPerWord()) {\n      hintsTimeOutId.current = setTimeout(onHintTimer, hintTimeoutMs);\n    }\n  }, [hintsOn]);\n\n  useEffect(() => {\n    if (modalTitle !== \"\") {\n      clearTimeout(hintsTimeOutId.current);\n      setPlaying(false);\n    }\n    if (!hintsOn) {\n      resetHintTimer();\n    }\n  }, [modalTitle, hintsOn, resetHintTimer]);\n\n  const onHintTimer = () => {\n    gridObj.setHint();\n  };\n\n  const handleOnPlayPauseGame = useCallback(() => {\n    if (modalTitle !== \"\") {\n      // pause and return\n      setPlaying(false);\n      return;\n    }\n\n    if (!playing) {\n      const currentTailDir = gridObj.getCurrentTailDirection();\n      const currentHeadDir = gridObj.getCurrentHeadDirection();\n      // on play first time\n      if (\n        currentHeadDir === Direction.None &&\n        currentTailDir === Direction.None\n      ) {\n        gridObj.setCurrentTailDirection(Direction.Right);\n        gridObj.setCurrentHeadDirection(Direction.Right);\n      }\n      if (!startDate.current) startDate.current = new Date();\n      resetHintTimer();\n    }\n    setPlaying((playing) => !playing);\n  }, [playing, modalTitle, resetHintTimer]);\n\n  const handleOnDebug = useCallback(() => {\n    setDebug((debug) => !debug);\n  }, []);\n\n  const isDebugMode = () => {\n    return urlSearchParams.get(\"debug\") === \"true\";\n  };\n\n  const handlers = useSwipeable({\n    onSwipedLeft: onSwipedLeft,\n    onSwipedRight: onSwipedRight,\n    onSwipedDown: onSwipedDown,\n    onSwipedUp: onSwipedUp,\n    // onTap: () => {\n    //   console.log(\"swallow tap\");\n    // },\n    preventDefaultTouchmoveEvent: true,\n    trackMouse: true,\n  });\n\n  return (\n    <div {...handlers} className={\"game\"}>\n      <div className={\"gridContainer\"}>\n        {debug ? (\n          <DebugGrid grid={grid} />\n        ) : (\n          <GridRenderer\n            grid={grid}\n            currentHeadDirection={gridObj.getCurrentHeadDirection()}\n            currentTailDirection={gridObj.getCurrentTailDirection()}\n            currentTailPivot={gridObj.getPivotDirectionOnCurrentTail()}\n          />\n        )}\n        <WordTiles bytes={currentLetter} score={score} />\n      </div>\n\n      {/* {\n        <div className={\"appUtils\"}>\n          {\n            <Button\n              onClick={handleOnPlayPauseGame}\n              label={playing ? \"Pause\" : \"Play\"}\n            />\n          }\n          {isDebugMode() ? (\n            <Button\n              onClick={handleOnDebug}\n              label={debug ? \"Debug Off\" : \"Debug On\"}\n            />\n          ) : null}\n        </div>\n      }  */}\n    </div>\n  );\n};\n","import { useEffect, useLayoutEffect, useRef } from \"react\"\n\nexport const useInterval = (callback: () => void, delay: number | null) => {\n    const savedCallback = useRef(callback)\n  \n    // Remember the latest callback if it changes.\n    useLayoutEffect(() => {\n      savedCallback.current = callback\n    }, [callback])\n  \n    // Set up the interval.\n    useEffect(() => {\n      // Don't schedule if no delay is specified.\n      if (!delay) {\n        return\n      }\n  \n      const id = setInterval(() => savedCallback.current(), delay)\n  \n      return () => clearInterval(id)\n    }, [delay])\n  }","import React from \"react\";\nimport \"./style/title.css\";\n\ninterface ITitleProps {\n  title: string;\n}\nexport const Title: React.FunctionComponent<ITitleProps> = React.memo(\n  (props) => {\n    return <div className=\"title\">{props.title}</div>;\n  }\n);\n","import React from \"react\";\nimport { Title } from \"./title\";\nimport \"./style/header.css\";\nimport { IconButton } from \"@mui/material\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\n\nimport {\n  SettingsRounded,\n  MenuRounded,\n  HelpRounded,\n  LeaderboardRounded,\n} from \"@mui/icons-material\";\n\n// move this to a useEffect\nconst root = document.querySelector(\":root\")!;\nconst rootStyle = getComputedStyle(root);\n\ninterface IHeader {\n  onClickInstructions: () => void;\n  onClickSettings: () => void;\n  onClickStatistics: () => void;\n}\n\nexport const Header: React.FunctionComponent<IHeader> = (props) => {\n  const outerTheme = createTheme({\n    palette: {\n      primary: {\n        main: rootStyle.getPropertyValue(\"--fontColor\").trim(), // hex versions of --var(fontColor)\n      },\n    },\n  });\n\n  return (\n    <ThemeProvider theme={outerTheme}>\n      <div className={\"header\"}>\n        <div className={\"menuleft\"}>\n          <IconButton aria-label=\"Menu\" color=\"primary\" size=\"small\">\n            <MenuRounded />\n          </IconButton>\n          <IconButton\n            aria-label=\"Instruction\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={props.onClickInstructions}\n          >\n            <HelpRounded />\n          </IconButton>\n        </div>\n        <Title title={\"Snakespeare\"} />\n        <div className={\"menuright\"}>\n          <IconButton\n            aria-label=\"Stats\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={props.onClickStatistics}\n          >\n            <LeaderboardRounded />\n          </IconButton>\n          <IconButton\n            aria-label=\"Settings\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={props.onClickSettings}\n          >\n            <SettingsRounded />\n          </IconButton>\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n};\n","import React from \"react\";\nimport { Title } from \"../../title\";\nimport \"../../style/modalHeader.css\";\n\ninterface IModalHeader {\n  onClick: () => void;\n  title: string;\n}\nexport const ModalHeader: React.FunctionComponent<IModalHeader> = React.memo(\n  (props) => {\n    const { onClick, title } = props;\n    return (\n      <div className={\"modalHeader\"}>\n        <div className={\"titleContainer\"}>\n          <Title title={title} />\n        </div>\n        <button className={\"close\"} onClick={onClick}>\n          {\"x\"}\n        </button>\n      </div>\n    );\n  }\n);\n","import React, { useEffect, useState } from \"react\";\nimport \"../../style/modalPage.css\";\nimport { ModalHeader } from \"./modalHeader\";\n\ninterface IModalPage {\n  onClose: () => void;\n  title: string;\n  isWindow: boolean;\n}\n\nexport const ModalPage: React.FunctionComponent<IModalPage> = React.memo(\n  (props) => {\n    const { onClose, title, isWindow } = props;\n    const [className, setClassName] = useState(\"closed\");\n    const [containerClassName, setContainerClassName] = useState(\n      \"floatingContainerWindow\"\n    );\n\n    useEffect(() => {\n      if (title !== \"\") {\n        setClassName(\"modalOverlayIn\");\n      }\n      if (isWindow) {\n        setContainerClassName(\"floatingContainerWindow\");\n      } else {\n        setContainerClassName(\"floatingContainerFullScreen\");\n      }\n    }, [title, isWindow]);\n\n    return props.children ? (\n      <div className={className}>\n        <div className={containerClassName}>\n          <ModalHeader onClick={onClose} title={title} />\n          {props.children}\n        </div>\n      </div>\n    ) : null;\n  }\n);\n","export default __webpack_public_path__ + \"static/media/snakeSmile.c4c253be.gif\";","import snakeSmile from \"../../snakeSmile.gif\";\nimport \"../../style/instructions.css\";\n\nexport const instructions = (\n  <>\n    <p>Swipe anywhere on the screen to start the game.</p>\n    <p>Make turns by swiping anywhere: up, down, left or right</p>\n    <p>\n      Steer the snake to capture the letters in the correct order and create a 5\n      letter word using the randomly placed letters.\n    </p>\n    <p>Score 10 points per word solved + bonus points for faster solutions.</p>\n\n    <p>Avoid colliding the snake's head with it's own body.</p>\n\n    <img src={snakeSmile} alt={\"funny snake GIF\"} />\n  </>\n);\n","import * as React from \"react\";\nimport Switch from \"@mui/material/Switch\";\nimport \"../../style/settings.css\";\nimport { styled } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\n\nconst hintsLabel = { inputProps: { \"aria-label\": \"Hints\" } };\nconst colorModeLabel = { inputProps: { \"aria-label\": \"Dark mode\" } };\n\n// move this to a useEffect\nconst root = document.querySelector<HTMLElement>(\":root\")!;\nconst rootStyle = getComputedStyle(root);\n\nconst switchColorMain = rootStyle.getPropertyValue(\"--byteColor\");\nconst switchColorLight = rootStyle.getPropertyValue(\"--snakeColor\");\n\nconst GreenSwitch = styled(Switch)(({ theme }) => ({\n  \"& .MuiSwitch-switchBase.Mui-checked\": {\n    color: switchColorMain.trim(),\n  },\n  \"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track\": {\n    backgroundColor: switchColorMain.trim(),\n  },\n  \"& .MuiSwitch-track\": {\n    backgroundColor: switchColorLight.trim(),\n  },\n}));\n\nexport const Settings: React.FunctionComponent = () => {\n  const darkMode = localStorage.getItem(\"darkMode\");\n  const hints = localStorage.getItem(\"hints\");\n  const progressiveSpeed = localStorage.getItem(\"progressiveSpeed\");\n\n  const [hintsChecked, setHintsChecked] = useState(\n    hints ? JSON.parse(hints) : true\n  );\n  const [darkModeChecked, setDarkModeChecked] = useState(\n    darkMode ? JSON.parse(darkMode) : true\n  );\n  const [progressiveSpeedChecked, setProgressiveSpeedChecked] = useState(\n    progressiveSpeed ? JSON.parse(progressiveSpeed) : true\n  );\n\n  useEffect(() => {\n    if (darkModeChecked) {\n      root.style.setProperty(\n        \"--modalOverlayColor\",\n        rootStyle.getPropertyValue(\"--darkModalOverlay\").trim()\n      );\n      root.style.setProperty(\n        \"--appBackgroundColor\",\n        rootStyle.getPropertyValue(\"--darkBackground\").trim()\n      );\n      root.style.setProperty(\n        \"--fontColor\",\n        rootStyle.getPropertyValue(\"--darkFont\").trim()\n      );\n      root.style.setProperty(\n        \"--boxBackgroundColor\",\n        rootStyle.getPropertyValue(\"--darkBox\").trim()\n      );\n    } else {\n      root.style.setProperty(\n        \"--modalOverlayColor\",\n        rootStyle.getPropertyValue(\"--lightModalOverlay\").trim()\n      );\n      root.style.setProperty(\n        \"--appBackgroundColor\",\n        rootStyle.getPropertyValue(\"--lightBackground\").trim()\n      );\n      root.style.setProperty(\n        \"--fontColor\",\n        rootStyle.getPropertyValue(\"--lightFont\").trim()\n      );\n      root.style.setProperty(\n        \"--boxBackgroundColor\",\n        rootStyle.getPropertyValue(\"--lightBox\").trim()\n      );\n    }\n  }, [darkModeChecked]);\n\n  // todo : write to local storage\n  const handleHintsChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n    try {\n      localStorage.setItem(\"hints\", JSON.stringify(event.target.checked));\n    } catch (e) {\n      console.log(\"cannot write to localStorage \", e);\n    }\n    setHintsChecked(event.target.checked);\n  };\n\n  const handleDarkModeChanged = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    try {\n      localStorage.setItem(\"darkMode\", JSON.stringify(event.target.checked));\n    } catch (e) {\n      console.log(\"cannot write to localStorage \", e);\n    }\n    setDarkModeChecked(event.target.checked);\n  };\n\n  const handleProgressiveSpeedChanged = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    try {\n      localStorage.setItem(\n        \"progressiveSpeed\",\n        JSON.stringify(event.target.checked)\n      );\n    } catch (e) {\n      console.log(\"cannot write to localStorage \", e);\n    }\n    setProgressiveSpeedChecked(event.target.checked);\n  };\n\n  return (\n    <div className=\"settingsContainer\">\n      <div className=\"rowContainer\">\n        <div className=\"settingsTitleContainer\">\n          <div className=\"rowTitle\">{\"Hints\"}</div>\n        </div>\n        <GreenSwitch\n          {...hintsLabel}\n          checked={hintsChecked}\n          onChange={handleHintsChanged}\n        />\n      </div>\n      <div className=\"rowContainer\">\n        <div className=\"settingsTitleContainer\">\n          <div className=\"rowTitle\">{\"Dark mode\"}</div>\n        </div>\n        <GreenSwitch\n          {...colorModeLabel}\n          checked={darkModeChecked}\n          onChange={handleDarkModeChanged}\n        />\n      </div>\n      <div className=\"rowContainer\">\n        <div className=\"settingsTitleContainer\">\n          <div className=\"rowTitle\">{\"Progressive speed\"}</div>\n        </div>\n        <GreenSwitch\n          {...colorModeLabel}\n          checked={progressiveSpeedChecked}\n          onChange={handleProgressiveSpeedChanged}\n        />\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport \"./style/App.css\";\n\nimport { GridContainer } from \"./gridContainer\";\nimport { Header } from \"./header\";\nimport { ModalPage } from \"./components/modals/modalPage\";\nimport { instructions } from \"./components/modals/instructions\";\nimport { Settings } from \"./components/modals/settings\";\nimport { initLaunchSettings } from \"./launchSettings\";\nimport { statistics } from \"./components/modals/statistics\";\n\nconst ModalObj = {\n  None: { title: \"\", children: null },\n  About: { title: \"About\", children: null },\n  Instructions: { title: \"How to play\", children: instructions },\n  Statistics: { title: \"Statistics\", children: statistics },\n  Setting: { title: \"Settings\", children: <Settings /> },\n};\n\nconst isFirstVisit = initLaunchSettings();\n\nexport const App: React.FunctionComponent = () => {\n  const [modalType, setModalType] = useState<{\n    title: string;\n    children: JSX.Element | null;\n  }>(isFirstVisit ? ModalObj.Instructions : ModalObj.None);\n\n  const onClickInstructions = () => {\n    setModalType(ModalObj.Instructions);\n  };\n  const onClickSettings = () => {\n    setModalType(ModalObj.Setting);\n  };\n  const onClickStatistics = () => {\n    setModalType(ModalObj.Statistics);\n  };\n\n  const onCloseModal = () => {\n    setModalType(ModalObj.None);\n  };\n\n  const isWindow =\n    modalType.title === ModalObj.Instructions.title ||\n    modalType.title === ModalObj.Statistics.title;\n\n  return (\n    <div className={\"appContainer\"}>\n      <Header\n        onClickInstructions={onClickInstructions}\n        onClickSettings={onClickSettings}\n        onClickStatistics={onClickStatistics}\n      />\n      <ModalPage\n        onClose={onCloseModal}\n        title={modalType.title}\n        isWindow={isWindow}\n      >\n        {modalType.children}\n      </ModalPage>\n      <GridContainer\n        modalTitle={modalType.title}\n        onGameEnd={onClickStatistics}\n      />\n    </div>\n  );\n};\n","export const statistics = (\n  <div>\n    <h3>Personal top 3</h3>\n    <h3>World top 3 </h3>\n  </div>\n);\n","export const initLaunchSettings = () => {\n  const root = document.querySelector<HTMLElement>(\":root\")!;\n  const rootStyle = getComputedStyle(root);\n\n  const darkMode = localStorage.getItem(\"darkMode\");\n  const darkModeChecked = darkMode ? JSON.parse(darkMode) : true; // default turn on dark mode\n\n  if (darkModeChecked) {\n    root.style.setProperty(\n      \"--modalOverlayColor\",\n      rootStyle.getPropertyValue(\"--darkModalOverlay\").trim()\n    );\n    root.style.setProperty(\n      \"--appBackgroundColor\",\n      rootStyle.getPropertyValue(\"--darkBackground\").trim()\n    );\n    root.style.setProperty(\n      \"--fontColor\",\n      rootStyle.getPropertyValue(\"--darkFont\").trim()\n    );\n    root.style.setProperty(\n      \"--boxBackgroundColor\",\n      rootStyle.getPropertyValue(\"--darkBox\").trim()\n    );\n  } else {\n    root.style.setProperty(\n      \"--modalOverlayColor\",\n      rootStyle.getPropertyValue(\"--lightModalOverlay\").trim()\n    );\n    root.style.setProperty(\n      \"--appBackgroundColor\",\n      rootStyle.getPropertyValue(\"--lightBackground\").trim()\n    );\n    root.style.setProperty(\n      \"--fontColor\",\n      rootStyle.getPropertyValue(\"--lightFont\").trim()\n    );\n    root.style.setProperty(\n      \"--boxBackgroundColor\",\n      rootStyle.getPropertyValue(\"--lightBox\").trim()\n    );\n  }\n\n  const isFirst = localStorage.getItem(\"isFirst\");\n  const isFirstVisit: boolean = isFirst ? JSON.parse(isFirst) : true;\n  if (isFirstVisit)\n    localStorage.setItem(\"isFirst\", JSON.stringify(!isFirstVisit));\n\n  return isFirstVisit;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style/index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}